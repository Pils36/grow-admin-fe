<script>
    $(document).ready(function () {
        $("#default-04").on("keyup", function () {
            var value = $(this).val().toLowerCase();
            $(".nk-tb-item").filter(function () {
                $(this).toggle($(this).text().toLowerCase().indexOf(value) > -1)
            });
        });

        $('#myTranxhistory').DataTable();

    });

    // Rendering to header 
    $('#headerUserDropdown').html(`
        <a href="javascript:void()" class="dropdown-toggle mr-n1" data-toggle="dropdown">
            <div class="user-toggle">
                <div class="user-avatar sm">
                    <img src="${JSON.parse(localStorage.getItem('user')).avatar}"
                        alt="${JSON.parse(localStorage.getItem('user')).username}" />
                </div>
                <div class="user-info d-none d-xl-block">
                    <div class="user-status user-status-verified">
                        ${JSON.parse(localStorage.getItem('user')).accountType.charAt(0).toUpperCase() +
        JSON.parse(localStorage.getItem('user')).accountType.slice(1)} Admin</div>
                    <div class="user-name dropdown-indicator">
                        ${JSON.parse(localStorage.getItem('user')).username.charAt(0).toUpperCase() +
        JSON.parse(localStorage.getItem('user')).username.slice(1)}</div>
                </div>
            </div>
        </a>
        <div class="dropdown-menu dropdown-menu-md dropdown-menu-right">
            <div class="dropdown-inner user-card-wrap bg-lighter d-none d-md-block">
                <div class="user-card">
                    <div class="user-avatar">
                        <img src="${JSON.parse(localStorage.getItem('user')).avatar}"
                            alt="${JSON.parse(localStorage.getItem('user')).username}" />
                    </div>
                    <div class="user-info">
                        <span
                            class="lead-text">${JSON.parse(localStorage.getItem('user')).username.toUpperCase()}</span>
                        <span class="sub-text">${JSON.parse(localStorage.getItem('user')).email}</span>
                    </div>
                </div>
            </div>
            <div class="dropdown-inner">
                <ul class="link-list">
                    <li><a href="javascript:void()"><em class="icon ni ni-user-alt"></em><span>View
                                Profile</span></a></li>
                    <li><a href="javascript:void()"><em class="icon ni ni-setting-alt"></em><span>Account
                                Setting</span></a></li>
                    <li><a href="javascript:void()"><em class="icon ni ni-activity-alt"></em><span>Login
                                Activity</span></a></li>
                    <li><a class="dark-switch" href="javascript:void()"><em class="icon ni ni-moon"></em><span>Dark
                                Mode</span></a>
                    </li>
                </ul>
            </div>
            <div class="dropdown-inner">
                <ul class="link-list">
                    <li><a href="javascript:void(0)" onclick="logout()"><em
                                class="icon ni ni-signout"></em><span>Sign
                                out</span></a></li>
                </ul>
            </div>
        </div>
    `);


    // Get Total earnings
    async function getEarnings() {
        try {

            $("#totalEarnings, #celebEarnings").html(`
            <div class="data-group">
                <div class="amount">
                    <div class="spinner-grow text-secondary" role="status">
                        <span class="sr-only">Loading...</span>
                    </div>
                    </div>
                <div class="nk-ecwg6-ck">
                    <canvas class="ecommerce-line-chart-s3" id="todayRevenue"></canvas>
                </div>
            </div>
            `);

            var sum = 0;
            route = `${baseUrl}/becued/totalearning`;
            config = {
                method: 'get',
                headers: header,
                url: route
            };

            response = await axios(config);


            for (let i = 0; i < response.data.data.length; i++) {
                const element = response.data.data[i];

                sum += element.total;
            }


            $("#totalEarnings, #celebEarnings").html(`
                <div class="data-group">
                    <div class="amount">₦${parseFloat(sum.toFixed(2))}</div>
                    <div class="nk-ecwg6-ck">
                        <canvas class="ecommerce-line-chart-s3" id="todayRevenue"></canvas>
                    </div>
                </div>
                <div class="info"><span class="change up text-danger"><em
                            class="icon ni ni-arrow-long-up"></em>${(response.data.data.length > 0 ?
                    parseFloat((sum / response.data.data.length).toFixed(2)) : 0)}%</span><span>
                        vs. last week</span></div>
            `);

        } catch (error) {

            if (error.response) {
                messageAlert(`<h5>${error.response.statusText}</h5>
            <p>${error.response.data.message}. Retry login</p>`, `error`);
            } else {
                messageAlert(`<h5>Oops!</h5>
            <p>${error.message}</p>`, `error`);
            }

        }
    }
    getEarnings();


    // Get Becued earnings
    async function becuedEarnings() {
        try {

            $("#becuedEarnings").html(`
            <div class="data-group">
                <div class="amount">
                    <div class="spinner-grow text-secondary" role="status">
                        <span class="sr-only">Loading...</span>
                    </div>
                    </div>
                <div class="nk-ecwg6-ck">
                    <canvas class="ecommerce-line-chart-s3" id="todayRevenue"></canvas>
                </div>
            </div>
            `);

            var sum = 0;
            route = `${baseUrl}/becued/becuedearning`;
            config = {
                method: 'get',
                headers: header,
                url: route
            };

            response = await axios(config);




            for (let i = 0; i < response.data.data.length; i++) {
                const element = response.data.data[i];

                sum += element.total;
            }


            $("#becuedEarnings").html(`
                <div class="data-group">
                    <div class="amount">₦${parseFloat(sum.toFixed(2))}</div>
                    <div class="nk-ecwg6-ck">
                        <canvas class="ecommerce-line-chart-s3" id="todayRevenue"></canvas>
                    </div>
                </div>
                <div class="info"><span class="change up text-danger"><em
                            class="icon ni ni-arrow-long-up"></em>${(response.data.data.length > 0 ?
                    parseFloat((sum / response.data.data.length).toFixed(2)) : 0)}%</span><span>
                        vs. last week</span></div>
            `);

        } catch (error) {

            if (error.response) {
                messageAlert(`<h5>${error.response.statusText}</h5>
            <p>${error.response.data.message}. Retry login</p>`, `error`);
            } else {
                messageAlert(`<h5>Oops!</h5>
            <p>${error.message}</p>`, `error`);
            }

        }
    }
    becuedEarnings();





    // Get Total Celebrities ...
    async function getCelebs() {
        try {

            $("#allListedCelebs").html(`
            <div class="nk-tb-col">
                <span class="tb-lead">
                    <div class="spinner-grow text-secondary" role="status">
                        <span class="sr-only">Loading...</span>
                    </div>
                </span>
            </div>
            `);
            celebNewHtml = "";

            $("#totalCelebs").html(`
    <div class="data-group">
        <div class="amount">
            <div class="spinner-grow text-secondary" role="status">
                <span class="sr-only">Loading...</span>
            </div>
            </div>
        <div class="nk-ecwg6-ck">
            <canvas class="ecommerce-line-chart-s3" id="todayCustomers"></canvas>
        </div>
    </div>
    `);

            var sum = 0;
            route = `${baseUrl}/becued/celebs`;
            config = {
                method: 'get',
                headers: header,
                url: route
            };

            response = await axios(config);

            $("#allListedCelebs").html('');


            $("#totalCelebs").html(` <div class="data-group">
                <div class="amount">${response.data.data.length}</div>
                <div class="nk-ecwg6-ck">
                    <canvas class="ecommerce-line-chart-s3" id="todayCustomers"></canvas>
                </div>
            </div>
            <div class="info"><span class="change up text-danger"><em
                        class="icon ni ni-arrow-long-up"></em>${parseFloat(response.data.data.length *
                100 / 500).toFixed(2)}%</span><span>
                    vs. last week</span></div>
        `);


            $('#totalCelebsCount').text(`You have total ${response.data.data.length} celebrities`);

            for (let i = 0; i < response.data.data.length; i++) {
                const element = response.data.data[i];
                celebNewHtml += `
                <div class="nk-tb-item">
                <div class="nk-tb-col nk-tb-col-check">
                    <div class="custom-control custom-control-sm custom-checkbox notext">
                        <input type="checkbox" class="custom-control-input" id="uid1">
                        <label class="custom-control-label" for="uid1"></label>
                    </div>
                </div>
                <div class="nk-tb-col">
                    <a href="/dashboard/celebsprofile?_celebsuserId=${element._id}">
                        <div class="user-card">
                            <div class="user-avatar bg-primary">
                                <img src="${element.avatar == null ? defaultAvatarUrl : element.avatar}">
                            </div>
                            <div class="user-info">
                                <span class="tb-lead">${element.fullname} <span
                                        class="dot dot-success d-md-none ml-1"></span></span>
                                <span>${element.email}</span>
                            </div>
                        </div>
                    </a>
                </div>

                <div class="nk-tb-col tb-col-md">
                    <span>${element.phoneNumber == null ? '-' : element.phoneNumber}</span>
                </div>
                <div class="nk-tb-col tb-col-lg">
                    <span>BECUED</span>
                </div>
                <div class="nk-tb-col tb-col-lg">
                    <span>${new Date(element.created_at).toLocaleString('en-GB', dateOption)}</span>
                </div>
                <div class="nk-tb-col tb-col-md">
                    <span
                        class="tb-status ${element.accountStatus == 'Active' ? `text-success` : `text-danger`}">${element.accountStatus
                        == null ? `Active` : element.accountStatus}</span>
                </div>
                <div class="nk-tb-col nk-tb-col-tools">
                    <ul class="nk-tb-actions gx-1">
                        <li class="nk-tb-action-hidden">
                            <a href="javascript:void(0)" onclick="sendMail('celebprofile', '${element._id}')"
                                class="btn btn-trigger btn-icon" data-toggle="tooltip"
                                data-placement="top" title="Send Email">
                                <em class="icon ni ni-mail-fill"></em>
                            </a>
                        </li>

                        ${element.accountStatus == `Active` ? `<li class="nk-tb-action-hidden">
                            <a href="javascript:void(0)" onclick="accountState('celebaccount', '${element._id}')"
                                class="btn btn-trigger btn-icon" data-toggle="tooltip" data-placement="top"
                                title="Suspend">
                                <em class="icon ni ni-user-cross-fill"></em>
                            </a>
                        </li>` : `<li class="nk-tb-action-hidden">
                            <a href="javascript:void(0)" onclick="activateaccountState('celebaccount', '${element._id}')"
                                class="btn btn-trigger btn-icon" data-toggle="tooltip" data-placement="top"
                                title="Activate">
                                <em class="icon ni ni-user-check-fill"></em>
                            </a>
                        </li>`}



                        <li>
                            <div class="drodown">
                                <a href="javascript:void()" class="dropdown-toggle btn btn-icon btn-trigger"
                                    data-toggle="dropdown"><em class="icon ni ni-more-h"></em></a>
                                <div class="dropdown-menu dropdown-menu-right">
                                    <ul class="link-list-opt no-bdr">
                                        <li><a href="/dashboard/celebsprofile?_celebsuserId=${element._id}"><em
                                                    class="icon ni ni-eye"></em><span>View
                                                    Details</span></a></li>
                                        <li><a href="javascript:void(0)"
                                                onclick="sendMail('celebprofile', '${element._id}')"><em
                                                    class="icon ni ni-repeat"></em><span>Send
                                                    Email</span></a>
                                        </li>


                                         ${element.accountStatus == `Active` ? `<li><a href="javascript:void(0)"
                                                 onclick="accountState('celebaccount', '${element._id}')"><em
                                                     class="icon ni ni-activity-round"></em><span>Suspend</span></a>
                                         </li>` : `<li><a href="javascript:void(0)"
                                                 onclick="activateaccountState('celebaccount', '${element._id}')"><em
                                                     class="icon ni ni-activity-round"></em><span>Activate</span></a>
                                         </li>`}



                                        <li><a href="javascript:void()"><em class="icon ni ni-trash"></em><span>Remove</span></a>
                                        </li>


                                    </ul>
                                </div>
                            </div>
                        </li>
                    </ul>
                </div>
                </div>
                `;
            }

            $("#allListedCelebs").append(`<div class="nk-tb-item nk-tb-head">
                    <div class="nk-tb-col nk-tb-col-check">
                        <div class="custom-control custom-control-sm custom-checkbox notext">
                            <input type="checkbox" class="custom-control-input" id="uid">
                            <label class="custom-control-label" for="uid"></label>
                        </div>
                    </div>
                    <div class="nk-tb-col"><span class="sub-text">User</span></div>
                    <div class="nk-tb-col tb-col-md"><span class="sub-text">Phone</span></div>
                    <div class="nk-tb-col tb-col-lg"><span class="sub-text">Platform</span></div>
                    <div class="nk-tb-col tb-col-lg"><span class="sub-text">Date Created</span></div>
                    <div class="nk-tb-col tb-col-md"><span class="sub-text">Status</span></div>
                    <div class="nk-tb-col nk-tb-col-tools">
                        <ul class="nk-tb-actions gx-1 my-n1">
                            <li>
                                <div class="drodown">
                                    <a href="javascript:void()" class="dropdown-toggle btn btn-icon btn-trigger mr-n1"
                                        data-toggle="dropdown"><em class="icon ni ni-more-h"></em></a>
                                    
                                </div>
                            </li>
                        </ul>
                    </div>
                </div>${celebNewHtml}
                </div>`);



        } catch (error) {

            if (error.response) {
                messageAlert(`<h5>${error.response.statusText}</h5>
            <p>${error.response.data.message}. Retry login</p>`, `error`);
            } else {
                messageAlert(`<h5>Oops!</h5>
            <p>${error.message}</p>`, `error`);
            }

        }
    }
    getCelebs();

    // Get Total Fans ...

    async function getFans() {
        try {

            $("#allListedFans").html(`
            <div class="nk-tb-col">
                <span class="tb-lead">
                    <div class="spinner-grow text-secondary" role="status">
                        <span class="sr-only">Loading...</span>
                    </div>
                </span>
            </div>
            `);
            fanNewHtml = "";

            $("#totalFans").html(`
        <div class="data-group">
            <div class="amount">
                <div class="spinner-grow text-secondary" role="status">
                    <span class="sr-only">Loading...</span>
                </div>
            </div>
            <div class="nk-ecwg6-ck">
                <canvas class="ecommerce-line-chart-s3" id="todayVisitors"></canvas>
            </div>
        </div>
        `);

            var sum = 0;
            route = `${baseUrl}/becued/fans`;
            config = {
                method: 'get',
                headers: header,
                url: route
            };

            response = await axios(config);

            $("#allListedFans").html('');


            $("#totalFans").html(` <div class="data-group">
                <div class="amount">${response.data.data.length}</div>
                <div class="nk-ecwg6-ck">
                    <canvas class="ecommerce-line-chart-s3" id="todayVisitors"></canvas>
                </div>
            </div>
            <div class="info"><span class="change up text-danger"><em
                        class="icon ni ni-arrow-long-up"></em>${parseFloat(response.data.data.length *
                100 / 5000).toFixed(2)}%</span><span>
                    vs. last week</span></div>
        `);


            $('#totalFansCount').text(`You have total ${response.data.data.length} fans`);

            for (let i = 0; i < response.data.data.length; i++) {
                const element = response.data.data[i];


                fanNewHtml += ` <div class="nk-tb-item">
                <div class="nk-tb-col nk-tb-col-check">
                    <div class="custom-control custom-control-sm custom-checkbox notext">
                        <input type="checkbox" class="custom-control-input" id="uid1">
                        <label class="custom-control-label" for="uid1"></label>
                    </div>
                </div>
                <div class="nk-tb-col">
                    <a href="/dashboard/fansprofile?_fansuserId=${element._id}">
                        <div class="user-card">
                            <div class="user-avatar bg-primary">
                                <img src="${element.avatar == null ? defaultAvatarUrl : element.avatar}">
                            </div>
                            <div class="user-info">
                                        <span class="tb-lead">${element.fullname} <span
                                                class="dot dot-success d-md-none ml-1"></span></span>
                                <span>${element.email}</span>
                            </div>
                        </div>
                    </a>
                </div>

                <div class="nk-tb-col tb-col-md">
                    <span>${element.phoneNumber == null ? '-' : element.phoneNumber}</span>
                </div>
                <div class="nk-tb-col tb-col-lg">
                    <span>${element.isSocialAccount[0].platform == 'default' ? `BECUED` :
                        element.isSocialAccount[0].platform.toUpperCase()}</span>
                </div>
                <div class="nk-tb-col tb-col-lg">
                    <span>${new Date(element.created_at).toLocaleString('en-GB', dateOption)}</span>
                </div>
                <div class="nk-tb-col tb-col-md">
                    <span class="tb-status ${element.accountStatus == 'Active' ? `text-success` : `text-danger`}">${element.accountStatus == null ? `Active` : element.accountStatus}</span>
                </div>
                <div class="nk-tb-col nk-tb-col-tools">
                    <ul class="nk-tb-actions gx-1">
                        <li class="nk-tb-action-hidden">
                            <a href="javascript:void(0)" onclick="sendMail('fanprofile', '${element._id}')"
                                class="btn btn-trigger btn-icon" data-toggle="tooltip" data-placement="top"
                                title="Send Email">
                                <em class="icon ni ni-mail-fill"></em>
                            </a>
                        </li>

                        

                       ${element.accountStatus == `Active` ? `<li class="nk-tb-action-hidden">
                           <a href="javascript:void(0)" onclick="accountState('fanaccount', '${element._id}')"
                               class="btn btn-trigger btn-icon" data-toggle="tooltip" data-placement="top"
                               title="Suspend">
                               <em class="icon ni ni-user-cross-fill"></em>
                           </a>
                       </li>` : `<li class="nk-tb-action-hidden">
                           <a href="javascript:void(0)" onclick="activateaccountState('fanaccount', '${element._id}')"
                               class="btn btn-trigger btn-icon" data-toggle="tooltip" data-placement="top"
                               title="Activate">
                               <em class="icon ni ni-user-check-fill"></em>
                           </a>
                       </li>`}
                        <li>
                            <div class="drodown">
                                <a href="javascript:void()" class="dropdown-toggle btn btn-icon btn-trigger" data-toggle="dropdown"><em
                                        class="icon ni ni-more-h"></em></a>
                                <div class="dropdown-menu dropdown-menu-right">
                                    <ul class="link-list-opt no-bdr">
                                        <li><a href="/dashboard/fansprofile?_fansuserId=${element._id}"><em
                                                    class="icon ni ni-eye"></em><span>View
                                                    Details</span></a></li>
                                        <li><a href="javascript:void(0)"
                                                onclick="sendMail('fanprofile', '${element._id}')"><em
                                                    class="icon ni ni-repeat"></em><span>Send
                                                    Email</span></a>
                                        </li>

                                        ${element.accountStatus == `Active` ? `<li><a href="javascript:void(0)"
                                                onclick="accountState('fanaccount', '${element._id}')"><em
                                                    class="icon ni ni-activity-round"></em><span>Suspend</span></a>
                                        </li>` : `<li><a href="javascript:void(0)"
                                                onclick="activateaccountState('fanaccount', '${element._id}')"><em
                                                    class="icon ni ni-activity-round"></em><span>Activate</span></a>
                                        </li>`}

                                        


                                        <li><a href="javascript:void()"><em class="icon ni ni-trash"></em><span>Remove</span></a>
                                        </li>


                                    </ul>
                                </div>
                            </div>
                        </li>
                    </ul>
                </div>
            </div>
            `;
            }

            $("#allListedFans").append(`<div class="nk-tb-item nk-tb-head">
                <div class="nk-tb-col nk-tb-col-check">
                    <div class="custom-control custom-control-sm custom-checkbox notext">
                        <input type="checkbox" class="custom-control-input" id="uid">
                        <label class="custom-control-label" for="uid"></label>
                    </div>
                </div>
                <div class="nk-tb-col"><span class="sub-text">User</span></div>
                <div class="nk-tb-col tb-col-md"><span class="sub-text">Phone</span></div>
                <div class="nk-tb-col tb-col-lg"><span class="sub-text">Platform</span></div>
                <div class="nk-tb-col tb-col-lg"><span class="sub-text">Date Created</span></div>
                <div class="nk-tb-col tb-col-md"><span class="sub-text">Status</span></div>
                <div class="nk-tb-col nk-tb-col-tools">
                    <ul class="nk-tb-actions gx-1 my-n1">
                        <li>
                            <div class="drodown">
                                <a href="javascript:void()" class="dropdown-toggle btn btn-icon btn-trigger mr-n1"
                                    data-toggle="dropdown"><em class="icon ni ni-more-h"></em></a>
                                
                            </div>
                        </li>
                    </ul>
                </div>
            </div>${fanNewHtml}
            </div>`);


        } catch (error) {

            if (error.response) {
                messageAlert(`<h5>${error.response.statusText}</h5>
            <p>${error.response.data.message}. Retry login</p>`, `error`);
            } else {
                messageAlert(`<h5>Oops!</h5>
            <p>${error.message}</p>`, `error`);
            }

        }
    }
    getFans();


    //  Get All Wait List

    async function getWaiting() {
        try {

            $("#allWaitlist").html(`
            <div class="nk-tb-col">
                <span class="tb-lead">
                    <div class="spinner-grow text-secondary" role="status">
                        <span class="sr-only">Loading...</span>
                    </div>
                </span>
            </div>
            `);
            waitNewHtml = "";

            $("#totalWaiting").html(`
        <div class="data-group">
            <div class="amount">
                <div class="spinner-grow text-secondary" role="status">
                    <span class="sr-only">Loading...</span>
                </div>
                </div>
            <div class="nk-ecwg6-ck">
                <canvas class="ecommerce-line-chart-s3" id="todayOrders"></canvas>
            </div>
        </div>
        
        `);

            var sum = 0;
            route = `${baseUrl}/becued/waitlist`;
            config = {
                method: 'get',
                headers: header,
                url: route
            };

            response = await axios(config);
            $("#allWaitlist").html(``);

            $("#totalWaiting").html(` <div class="data-group">
                <div class="amount">${response.data.data.length}</div>
                <div class="nk-ecwg6-ck">
                    <canvas class="ecommerce-line-chart-s3" id="todayOrders"></canvas>
                </div>
            </div>
            <div class="info"><span class="change up text-danger"><em
                        class="icon ni ni-arrow-long-up"></em>${parseFloat(response.data.data.length *
                100 / 50000).toFixed(2)}%</span><span>
                    vs. last week</span></div>
        `);


            $("#countWaiting").text(`You have total ${response.data.data.length} on wait list.`);
            for (let i = 0; i < response.data.data.length; i++) {
                const element = response.data.data[i];

                waitNewHtml += `
                <div class="nk-tb-item">
                    <div class="nk-tb-col nk-tb-col-check">
                        <div class="custom-control custom-control-sm custom-checkbox notext">
                            <input type="checkbox" class="custom-control-input" id="uid1">
                            <label class="custom-control-label" for="uid1"></label>
                        </div>
                    </div>
                    <div class="nk-tb-col">
                        <a href="javascript:void()">
                            <div class="user-card">
                                <div class="user-avatar bg-primary">
                                    <span>${(element.name.charAt(0) +
                        element.name.charAt(1)).toUpperCase()}</span>
                                </div>
                                <div class="user-info">
                                    <span class="tb-lead">${element.name}<span
                                            class="dot dot-success d-md-none ml-1"></span></span>
                                    <span>${element.email}</span>
                                </div>
                            </div>
                        </a>
                    </div>

                    <div class="nk-tb-col tb-col-lg">
                        <span>${element.favourite_celebrity}</span>
                    </div>
                    <div class="nk-tb-col tb-col-lg">
                        <span>${new Date(element.created_at).toLocaleString('en-GB', dateOption)}</span>
                    </div>

                    <div class="nk-tb-col nk-tb-col-tools">
                        <ul class="nk-tb-actions gx-1">
                            <li class="nk-tb-action-hidden">
                                <a href="javascript:void(0)" onclick="sendMail('waitlist', '${element._id}')"
                                    class="btn btn-trigger btn-icon" data-toggle="tooltip" data-placement="top"
                                    title="Send Email">
                                    <em class="icon ni ni-mail-fill"></em>
                                </a>
                            </li>
                            <li class="nk-tb-action-hidden">
                                <a href="javascript:void()" class="btn btn-trigger btn-icon" data-toggle="tooltip" data-placement="top"
                                    title="Suspend">
                                    <em class="icon ni ni-user-cross-fill"></em>
                                </a>
                            </li>
                            <li>
                                <div class="drodown">
                                    <a href="javascript:void()" class="dropdown-toggle btn btn-icon btn-trigger"
                                        data-toggle="dropdown"><em class="icon ni ni-more-h"></em></a>
                                    <div class="dropdown-menu dropdown-menu-right">
                                        <ul class="link-list-opt no-bdr">
                                            <li><a href="javascript:void()" class="" data-toggle="modal"
                                                    data-target="#modalDefault${element._id}"><em
                                                        class="icon ni ni-eye"></em><span>Quick view</span></a></li>
                                            <li><a href="javascript:void(0)"
                                                    onclick="sendMail('waitlist', '${element._id}')"><em
                                                        class="icon ni ni-repeat"></em><span>Send
                                                        Email</span></a>
                                            </li>

                                            <li><a href="javascript:void()"><em class="icon ni ni-trash"></em><span>Remove</span></a>
                                            </li>


                                        </ul>
                                    </div>
                                </div>
                            </li>
                        </ul>
                    </div>
                </div>


                <div class="modal fade zoom" tabindex="-1" id="modalDefault${element._id}">
                    <div class="modal-dialog" role="document">
                        <div class="modal-content">
                            <a href="javascript:void()" class="close" data-dismiss="modal" aria-label="Close">
                                <em class="icon ni ni-cross"></em>
                            </a>
                            <div class="modal-header">
                                <h5 class="modal-title">${element.name}</h5>
                            </div>
                            <div class="modal-body">
                                <div class="mb-4 ml-1 row">
                                    
                                    <div class="user-avatar lg bg-primary d-none d-sm-flex">
                                        <span>${(element.name.charAt(0) +
                                            element.name.charAt(1)).toUpperCase()}</span>
                                    </div>
                                </div>

                                <div class="mx-auto row d-flex align-items-center">
                                    <div class="row g-3">
                                        
                                        <div class="col-6">
                                            <span class="sub-text">Email:</span>
                                            <span>${element.email}</span>
                                        </div>
                                        <div class="col-6">
                                            <span class="sub-text">Favourite Celebrity:</span>
                                            <span
                                                class="lead-text
                                                text-danger">${element.favourite_celebrity}</span>
                                        </div>
                                        <div class="col-12">
                                            <span class="sub-text">Date Added:</span>
                                            <span>${new Date(element.created_at).toLocaleString('en-GB',
                                                dateOption)}</span>
                                        </div>
                                    </div>
                                </div>

                            </div>
                            
                        </div>
                    </div>
                </div>
                
                `;
            }

            $("#allWaitlist").append(`<div class="nk-tb-item nk-tb-head">
                <div class="nk-tb-col nk-tb-col-check">
                    <div class="custom-control custom-control-sm custom-checkbox notext">
                        <input type="checkbox" class="custom-control-input" id="uid">
                        <label class="custom-control-label" for="uid"></label>
                    </div>
                </div>
                <div class="nk-tb-col"><span class="sub-text">User</span></div>
                
                <div class="nk-tb-col tb-col-lg"><span class="sub-text">Favourite Celebrity</span></div>
                <div class="nk-tb-col tb-col-md"><span class="sub-text">Date Added</span></div>
                <div class="nk-tb-col nk-tb-col-tools">
                    <ul class="nk-tb-actions gx-1 my-n1">
                        <li>
                            <div class="drodown">
                                <a href="javascript:void()" class="dropdown-toggle btn btn-icon btn-trigger mr-n1"
                                    data-toggle="dropdown"><em class="icon ni ni-more-h"></em></a>
                                <div class="dropdown-menu dropdown-menu-right">
                                    <ul class="link-list-opt no-bdr">
                                        <li><a href="javascript:void()"><em class="icon ni ni-mail"></em><span>Send Email to
                                                    All</span></a></li>

                                        <li><a href="javascript:void()"><em class="icon ni ni-trash"></em><span>Remove
                                                    Seleted</span></a></li>

                                    </ul>
                                </div>
                            </div>
                        </li>
                    </ul>
                </div>
            </div>${waitNewHtml}
            </div>`);




        } catch (error) {

            if (error.response) {
                messageAlert(`<h5>${error.response.statusText}</h5>
            <p>${error.response.data.message}. Retry login</p>`, `error`);
            } else {
                messageAlert(`<h5>Oops!</h5>
            <p>${error.message}</p>`, `error`);
            }

        }
    }
    getWaiting();


    // Get All Partners
    async function getAllPartners() {
        try {

            $("#allPartners").html(`
        <div class="nk-tb-col">
            <span class="tb-lead">
                <div class="spinner-grow text-secondary" role="status">
                    <span class="sr-only">Loading...</span>
                </div>
            </span>
        </div>
        `);
            partnerNewHtml = "";

            var sum = 0;
            route = `${baseUrl}/becued/partners`;
            config = {
                method: 'get',
                headers: header,
                url: route
            };

            response = await axios(config);


            $("#allPartners").html(``);


            $("#countPartners").text(`You have total ${response.data.data.length} on partner list.`);

            if (response.data.data.length == 0) {
                $("#allPartners").append(`<div class="nk-tb-item nk-tb-head">
                     <div class="nk-tb-col nk-tb-col-check">
                         <div class="custom-control custom-control-sm custom-checkbox notext">
                             <input type="checkbox" class="custom-control-input" id="uid">
                             <label class="custom-control-label" for="uid"></label>
                         </div>
                     </div>
                     <div class="nk-tb-col"><span class="sub-text">User</span></div>
                     <div class="nk-tb-col tb-col-md"><span class="sub-text">Phone</span></div>
                     <div class="nk-tb-col tb-col-lg"><span class="sub-text">Company</span></div>
                     <div class="nk-tb-col tb-col-lg"><span class="sub-text">Where to find</span></div>
                     <div class="nk-tb-col tb-col-md"><span class="sub-text">Date Added</span></div>
                     <div class="nk-tb-col nk-tb-col-tools">
                         <ul class="nk-tb-actions gx-1 my-n1">
                             <li>
                                 <div class="drodown">
                                     <a href="javascript:void()" class="dropdown-toggle btn btn-icon btn-trigger mr-n1"
                                         data-toggle="dropdown"><em class="icon ni ni-more-h"></em></a>
                                     <div class="dropdown-menu dropdown-menu-right">
                                         <ul class="link-list-opt no-bdr">
                                             <li><a href="javascript:void()"><em class="icon ni ni-mail"></em><span>Send
                                                         Email to
                                                         All</span></a></li>

                                             <li><a href="javascript:void()"><em
                                                         class="icon ni ni-trash"></em><span>Remove
                                                         Seleted</span></a></li>

                                         </ul>
                                     </div>
                                 </div>
                             </li>
                         </ul>
                     </div>
                 </div>
                 <div class="nk-tb-item">
                     <div class="nk-tb-col nk-tb-col-check">
                         <div class="custom-control custom-control-sm custom-checkbox notext">
                             <input type="checkbox" class="custom-control-input" id="uid1">
                             <label class="custom-control-label" for="uid1"></label>
                         </div>
                     </div>
                     <div class="nk-tb-col">
                         <a href="javascript:void()">
                             <div class="user-card">
                                 <div class="user-avatar bg-primary">
                                     <span>BE</span>
                                 </div>
                                 <div class="user-info">
                                     <span class="tb-lead">Becued<span
                                             class="dot dot-success d-md-none ml-1"></span></span>
                                     <span>info@becued.com</span>
                                 </div>
                             </div>
                         </a>
                     </div>

                     <div class="nk-tb-col tb-col-md">
                         <span>+1188899304882</span>
                     </div>

                     <div class="nk-tb-col tb-col-lg">
                         <span>Becued Inc.</span>
                     </div>
                     <div class="nk-tb-col tb-col-lg">
                         <span>Social media</span>
                     </div>
                     <div class="nk-tb-col tb-col-lg">
                         <span>${new Date().toLocaleString('en-GB', dateOption)}</span>
                     </div>

                     <div class="nk-tb-col nk-tb-col-tools">
                         <ul class="nk-tb-actions gx-1">
                             <li class="nk-tb-action-hidden">
                                 <a href="javascript:void()" class="btn btn-trigger btn-icon" data-toggle="tooltip"
                                     data-placement="top" title="Send Email">
                                     <em class="icon ni ni-mail-fill"></em>
                                 </a>
                             </li>
                             <li class="nk-tb-action-hidden">
                                 <a href="javascript:void()" class="btn btn-trigger btn-icon" data-toggle="tooltip"
                                     data-placement="top" title="Suspend">
                                     <em class="icon ni ni-user-cross-fill"></em>
                                 </a>
                             </li>
                             <li>
                                 <div class="drodown">
                                     <a href="javascript:void()" class="dropdown-toggle btn btn-icon btn-trigger"
                                         data-toggle="dropdown"><em class="icon ni ni-more-h"></em></a>
                                     <div class="dropdown-menu dropdown-menu-right">
                                         <ul class="link-list-opt no-bdr">
                                             <li><a href="javascript:void()"><em class="icon ni ni-eye"></em><span>View
                                                         Details</span></a></li>
                                             <li><a href="javascript:void()"><em
                                                         class="icon ni ni-repeat"></em><span>Send
                                                         Email</span></a>
                                             </li>

                                             <li><a href="javascript:void()"><em
                                                         class="icon ni ni-trash"></em><span>Remove</span></a>
                                             </li>


                                         </ul>
                                     </div>
                                 </div>
                             </li>
                         </ul>
                     </div>
                 </div>
                 </div>`);

            } else {
                for (let i = 0; i < response.data.data.length; i++) {
                    const element = response.data.data[i];
                    partnerNewHtml += `<div
    class="nk-tb-item">
    <div class="nk-tb-col nk-tb-col-check">
        <div class="custom-control custom-control-sm custom-checkbox notext">
            <input type="checkbox" class="custom-control-input" id="uid1">
            <label class="custom-control-label" for="uid1"></label>
        </div>
    </div>
    <div class="nk-tb-col">
        <a href="javascript:void()">
            <div class="user-card">
                <div class="user-avatar bg-primary">
                    <span>${(element.name.charAt(0) +
                            element.name.charAt(1)).toUpperCase()}</span>
                </div>
                <div class="user-info">
                    <span class="tb-lead">${element.name}<span class="dot dot-success d-md-none ml-1"></span></span>
                    <span>${element.email}</span>
                </div>
            </div>
        </a>
    </div>

    <div class="nk-tb-col tb-col-md">
        <span>${element.phoneNumber}</span>
    </div>

    <div class="nk-tb-col tb-col-lg">
        <span>${element.company}</span>
    </div>
    <div class="nk-tb-col tb-col-lg">
        <span>${element.whereToFind}</span>
    </div>
    <div class="nk-tb-col tb-col-lg">
        <span>${new Date(element.created_at).toLocaleString('en-GB', dateOption)}</span>
    </div>

    <div class="nk-tb-col nk-tb-col-tools">
        <ul class="nk-tb-actions gx-1">
            <li class="nk-tb-action-hidden">
                <a href="javascript:void(0)" onclick="sendMail('partner', '${element._id}')"
                    class="btn btn-trigger btn-icon" data-toggle="tooltip" data-placement="top"
                    title="Send Email">
                    <em class="icon ni ni-mail-fill"></em>
                </a>
            </li>
            <li class="nk-tb-action-hidden">
                <a href="javascript:void()" class="btn btn-trigger btn-icon" data-toggle="tooltip" data-placement="top"
                    title="Suspend">
                    <em class="icon ni ni-user-cross-fill"></em>
                </a>
            </li>
            <li>
                <div class="drodown">
                    <a href="javascript:void()" class="dropdown-toggle btn btn-icon btn-trigger"
                        data-toggle="dropdown"><em class="icon ni ni-more-h"></em></a>
                    <div class="dropdown-menu dropdown-menu-right">
                        <ul class="link-list-opt no-bdr">
                            <li><a href="javascript:void()" class="" data-toggle="modal"
                                    data-target="#modalPartnerDefault${element._id}"><em
                                        class="icon ni ni-eye"></em><span>Quick view</span></a></li>
                            <li><a href="javascript:void(0)" onclick="sendMail('partner', '${element._id}')"><em
                                        class="icon ni ni-repeat"></em><span>Send
                                        Email</span></a>
                            </li>

                            <li><a href="javascript:void()"><em class="icon ni ni-trash"></em><span>Remove</span></a>
                            </li>


                        </ul>
                    </div>
                </div>
            </li>
        </ul>
    </div>
    </div>


     <div class="modal fade zoom" tabindex="-1" id="modalPartnerDefault${element._id}">
         <div class="modal-dialog" role="document">
             <div class="modal-content">
                 <a href="javascript:void()" class="close" data-dismiss="modal" aria-label="Close">
                     <em class="icon ni ni-cross"></em>
                 </a>
                 <div class="modal-header">
                     <h5 class="modal-title">${element.name}</h5>
                 </div>
                 <div class="modal-body">
                     <div class="mb-4 ml-1 row">

                         <div class="user-avatar lg bg-primary d-none d-sm-flex">
                             <span>${(element.name.charAt(0) +
                                 element.name.charAt(1)).toUpperCase()}</span>
                         </div>
                     </div>

                     <div class="mx-auto row d-flex align-items-center">
                         <div class="row g-3">

                             <div class="col-6">
                                 <span class="sub-text">Email:</span>
                                 <span>${element.email}</span>
                             </div>
                             <div class="col-6">
                                 <span class="sub-text">Phone Number:</span>
                                 <span class="lead-text">${element.phoneNumber}</span>
                             </div>
                             <div class="col-6">
                                 <span class="sub-text">Company:</span>
                                 <span class="lead-text">${element.company}</span>
                             </div>
                             <div class="col-6">
                                 <span class="sub-text">Role:</span>
                                 <span class="lead-text">${element.role}</span>
                             </div>
                             <div class="col-6">
                                 <span class="sub-text">Industry:</span>
                                 <span class="lead-text">${element.industry}</span>
                             </div>
                             <div class="col-6">
                                 <span class="sub-text">Where to find them:</span>
                                 <span class="lead-text">${element.whereToFind}</span>
                             </div>
                             <div class="col-6">
                                 <span class="sub-text">Country:</span>
                                 <span class="lead-text">${element.country}</span>
                             </div>

                             <div class="col-6">
                                 <span class="sub-text">Date Added:</span>
                                 <span>${new Date(element.created_at).toLocaleString('en-GB',
                                     dateOption)}</span>
                             </div>
                             <div class="col-12">
                                 <span class="sub-text">What to know:</span>
                                 <span class="lead-text">${element.whatWeShouldKnow}</span>
                             </div>
                         </div>
                     </div>

                 </div>

             </div>
         </div>
     </div>

    `;
                }

                $("#allPartners").append(`<div class="nk-tb-item nk-tb-head">
        <div class="nk-tb-col nk-tb-col-check">
            <div class="custom-control custom-control-sm custom-checkbox notext">
                <input type="checkbox" class="custom-control-input" id="uid">
                <label class="custom-control-label" for="uid"></label>
            </div>
        </div>
        <div class="nk-tb-col"><span class="sub-text">User</span></div>
        <div class="nk-tb-col tb-col-md"><span class="sub-text">Phone</span></div>
        <div class="nk-tb-col tb-col-lg"><span class="sub-text">Company</span></div>
        <div class="nk-tb-col tb-col-lg"><span class="sub-text">Where to find</span></div>
        <div class="nk-tb-col tb-col-md"><span class="sub-text">Date Added</span></div>
        <div class="nk-tb-col nk-tb-col-tools">
            <ul class="nk-tb-actions gx-1 my-n1">
                <li>
                    <div class="drodown">
                        <a href="javascript:void()" class="dropdown-toggle btn btn-icon btn-trigger mr-n1"
                            data-toggle="dropdown"><em class="icon ni ni-more-h"></em></a>
                        <div class="dropdown-menu dropdown-menu-right">
                            <ul class="link-list-opt no-bdr">
                                <li><a href="javascript:void()"><em class="icon ni ni-mail"></em><span>Send Email to
                                            All</span></a></li>

                                <li><a href="javascript:void()"><em class="icon ni ni-trash"></em><span>Remove
                                            Seleted</span></a></li>

                            </ul>
                        </div>
                    </div>
                </li>
            </ul>
        </div>
    </div>${partnerNewHtml}
    </div>`);

            }





        } catch (error) {

            if (error.response) {
                messageAlert(`<h5>${error.response.statusText}</h5>
            <p>${error.response.data.message}. Retry login</p>`, `error`);
            } else {
                messageAlert(`<h5>Oops!</h5>
            <p>${error.message}</p>`, `error`);
            }

        }
    }
    getAllPartners();


    // Get All Talents
    async function getAllTalents() {
        try {

            $("#allTalents").html(`
                <div class="nk-tb-col">
                    <span class="tb-lead">
                        <div class="spinner-grow text-secondary" role="status">
                            <span class="sr-only">Loading...</span>
                        </div>
                    </span>
                </div>
                `);
            talentNewHtml = "";

            var sum = 0;
            route = `${baseUrl}/becued/talents`;
            config = {
                method: 'get',
                headers: header,
                url: route
            };

            response = await axios(config);



            $("#allTalents").html(``);


            $("#countTalents").text(`You have total ${response.data.data.length} on talent list.`);



            if (response.data.data.length == 0) {
                $("#allTalents").append(`<div class="nk-tb-item nk-tb-head">
                    <div class="nk-tb-col nk-tb-col-check">
                        <div class="custom-control custom-control-sm custom-checkbox notext">
                            <input type="checkbox" class="custom-control-input" id="uid">
                            <label class="custom-control-label" for="uid"></label>
                        </div>
                    </div>
                    <div class="nk-tb-col"><span class="sub-text">User</span></div>
                    <div class="nk-tb-col tb-col-md"><span class="sub-text">Phone</span></div>
                    <div class="nk-tb-col tb-col-lg"><span class="sub-text">Where to find</span></div>
                    <div class="nk-tb-col tb-col-lg"><span class="sub-text">Followers</span></div>
                    <div class="nk-tb-col tb-col-md"><span class="sub-text">Date Added</span></div>
                    <div class="nk-tb-col nk-tb-col-tools">
                        <ul class="nk-tb-actions gx-1 my-n1">
                            <li>
                                <div class="drodown">
                                    <a href="javascript:void()" class="dropdown-toggle btn btn-icon btn-trigger mr-n1"
                                        data-toggle="dropdown"><em class="icon ni ni-more-h"></em></a>
                                    <div class="dropdown-menu dropdown-menu-right">
                                        <ul class="link-list-opt no-bdr">
                                            <li><a href="javascript:void()"><em class="icon ni ni-mail"></em><span>Send
                                                        Email to
                                                        All</span></a></li>

                                            <li><a href="javascript:void()"><em
                                                        class="icon ni ni-trash"></em><span>Remove
                                                        Seleted</span></a></li>

                                        </ul>
                                    </div>
                                </div>
                            </li>
                        </ul>
                    </div>
                </div>
                <div class="nk-tb-item">
                    <div class="nk-tb-col nk-tb-col-check">
                        <div class="custom-control custom-control-sm custom-checkbox notext">
                            <input type="checkbox" class="custom-control-input" id="uid1">
                            <label class="custom-control-label" for="uid1"></label>
                        </div>
                    </div>
                    <div class="nk-tb-col">
                        <a href="javascript:void()">
                            <div class="user-card">
                                <div class="user-avatar bg-primary">
                                    <span>BE</span>
                                </div>
                                <div class="user-info">
                                    <span class="tb-lead">Becued<span
                                            class="dot dot-success d-md-none ml-1"></span></span>
                                    <span>info@becued.com</span>
                                </div>
                            </div>
                        </a>
                    </div>

                    <div class="nk-tb-col tb-col-md">
                        <span>+1188899304882</span>
                    </div>

                    <div class="nk-tb-col tb-col-lg">
                        <span>Social media</span>
                    </div>
                    <div class="nk-tb-col tb-col-lg">
                        <span>300</span>
                    </div>
                    <div class="nk-tb-col tb-col-lg">
                        <span>${new Date().toLocaleString('en-GB', dateOption)}</span>
                    </div>

                    <div class="nk-tb-col nk-tb-col-tools">
                        <ul class="nk-tb-actions gx-1">
                            <li class="nk-tb-action-hidden">
                                <a href="javascript:void()" class="btn btn-trigger btn-icon" data-toggle="tooltip"
                                    data-placement="top" title="Send Email">
                                    <em class="icon ni ni-mail-fill"></em>
                                </a>
                            </li>
                            <li class="nk-tb-action-hidden">
                                <a href="javascript:void()" class="btn btn-trigger btn-icon" data-toggle="tooltip"
                                    data-placement="top" title="Suspend">
                                    <em class="icon ni ni-user-cross-fill"></em>
                                </a>
                            </li>
                            <li>
                                <div class="drodown">
                                    <a href="javascript:void()" class="dropdown-toggle btn btn-icon btn-trigger"
                                        data-toggle="dropdown"><em class="icon ni ni-more-h"></em></a>
                                    <div class="dropdown-menu dropdown-menu-right">
                                        <ul class="link-list-opt no-bdr">
                                            <li><a href="javascript:void()"><em class="icon ni ni-eye"></em><span>View
                                                        Details</span></a></li>
                                            <li><a href="javascript:void()"><em
                                                        class="icon ni ni-repeat"></em><span>Send
                                                        Email</span></a>
                                            </li>

                                            <li><a href="javascript:void()"><em
                                                        class="icon ni ni-trash"></em><span>Remove</span></a>
                                            </li>


                                        </ul>
                                    </div>
                                </div>
                            </li>
                        </ul>
                    </div>
                </div>
                </div>`);

            } else {
                for (let i = 0; i < response.data.data.length; i++) {
                    const element = response.data.data[i];
                    talentNewHtml
                        += `<div class="nk-tb-item">
                    <div class="nk-tb-col nk-tb-col-check">
                        <div class="custom-control custom-control-sm custom-checkbox notext">
                            <input type="checkbox" class="custom-control-input" id="uid1">
                            <label class="custom-control-label" for="uid1"></label>
                        </div>
                    </div>
                    <div class="nk-tb-col">
                        <a href="javascript:void()">
                            <div class="user-card">
                                <div class="user-avatar bg-primary">
                                    <span>${(element.name.charAt(0) +
                            element.name.charAt(1)).toUpperCase()}</span>
                                </div>
                                <div class="user-info">
                                    <span class="tb-lead">${element.name}<span
                                            class="dot dot-success d-md-none ml-1"></span></span>
                                    <span>${element.email}</span>
                                </div>
                            </div>
                        </a>
                    </div>

                    <div class="nk-tb-col tb-col-md">
                        <span>${element.phoneNumber}</span>
                    </div>

                    <div class="nk-tb-col tb-col-lg">
                        <span>${element.whereToFind}</span>
                    </div>
                    <div class="nk-tb-col tb-col-lg">
                        <span>${element.numberofFollowers}</span>
                    </div>
                    <div class="nk-tb-col tb-col-lg">
                        <span>${new Date(element.created_at).toLocaleString('en-GB', dateOption)}</span>
                    </div>

                    <div class="nk-tb-col nk-tb-col-tools">
                        <ul class="nk-tb-actions gx-1">
                            <li class="nk-tb-action-hidden">
                                <a href="javascript:void(0)" onclick="sendMail('talent', '${element._id}')"
                                    class="btn btn-trigger btn-icon" data-toggle="tooltip"
                                    data-placement="top" title="Send Email">
                                    <em class="icon ni ni-mail-fill"></em>
                                </a>
                            </li>
                            <li class="nk-tb-action-hidden">
                                <a href="javascript:void()" class="btn btn-trigger btn-icon" data-toggle="tooltip"
                                    data-placement="top" title="Suspend">
                                    <em class="icon ni ni-user-cross-fill"></em>
                                </a>
                            </li>
                            <li>
                                <div class="drodown">
                                    <a href="javascript:void()" class="dropdown-toggle btn btn-icon btn-trigger"
                                        data-toggle="dropdown"><em class="icon ni ni-more-h"></em></a>
                                    <div class="dropdown-menu dropdown-menu-right">
                                        <ul class="link-list-opt no-bdr">
                                            <li><a href="javascript:void()" class="" data-toggle="modal"
                                                    data-target="#modalTalentDefault${element._id}"><em
                                                        class="icon ni ni-eye"></em><span>Quick view</span></a></li>
                                            <li><a href="javascript:void(0)"
                                                    onclick="sendMail('talent', '${element._id}')"><em
                                                        class="icon ni ni-repeat"></em><span>Send
                                                        Email</span></a>
                                            </li>

                                            <li><a href="javascript:void()"><em
                                                        class="icon ni ni-trash"></em><span>Remove</span></a>
                                            </li>


                                        </ul>
                                    </div>
                                </div>
                            </li>
                        </ul>
                    </div>
                    </div>

                    <div class="modal fade zoom" tabindex="-1" id="modalTalentDefault${element._id}">
                        <div class="modal-dialog" role="document">
                            <div class="modal-content">
                                <a href="javascript:void()" class="close" data-dismiss="modal" aria-label="Close">
                                    <em class="icon ni ni-cross"></em>
                                </a>
                                <div class="modal-header">
                                    <h5 class="modal-title">${element.name}</h5>
                                </div>
                                <div class="modal-body">
                                    <div class="mb-4 ml-1 row">

                                        <div class="user-avatar lg bg-primary d-none d-sm-flex">
                                            <span>${(element.name.charAt(0) +
                                                element.name.charAt(1)).toUpperCase()}</span>
                                        </div>
                                    </div>

                                    <div class="mx-auto row d-flex align-items-center">
                                        <div class="row g-3">

                                            <div class="col-6">
                                                <span class="sub-text">Email:</span>
                                                <span>${element.email}</span>
                                            </div>
                                            <div class="col-6">
                                                <span class="sub-text">Phone Number:</span>
                                                <span class="lead-text">${element.phoneNumber}</span>
                                            </div>
                                            <div class="col-6">
                                                <span class="sub-text">Where to find them:</span>
                                                <span class="lead-text">${element.whereToFind}</span>
                                            </div>
                                            <div class="col-6">
                                                <span class="sub-text">Social handle:</span>
                                                <span class="lead-text">${element.handle}</span>
                                            </div>
                                            <div class="col-6">
                                                <span class="sub-text">Followers:</span>
                                                <span class="lead-text">${element.numberofFollowers}</span>
                                            </div>
                                            
                                            <div class="col-6">
                                                <span class="sub-text">Date Added:</span>
                                                <span>${new Date(element.created_at).toLocaleString('en-GB',
                                                    dateOption)}</span>
                                            </div>
                                            <div class="col-12">
                                                <span class="sub-text">What to know:</span>
                                                <span class="lead-text">${element.whatWeShouldKnow}</span>
                                            </div>
                                        </div>
                                    </div>

                                </div>

                            </div>
                        </div>
                    </div>


                    `;
                }

                $("#allTalents").append(`<div class="nk-tb-item nk-tb-head">
                        <div class="nk-tb-col nk-tb-col-check">
                            <div class="custom-control custom-control-sm custom-checkbox notext">
                                <input type="checkbox" class="custom-control-input" id="uid">
                                <label class="custom-control-label" for="uid"></label>
                            </div>
                        </div>
                        <div class="nk-tb-col"><span class="sub-text">User</span></div>
                        <div class="nk-tb-col tb-col-md"><span class="sub-text">Phone</span></div>
                        <div class="nk-tb-col tb-col-lg"><span class="sub-text">Where to find</span></div>
                        <div class="nk-tb-col tb-col-lg"><span class="sub-text">Followers</span></div>
                        <div class="nk-tb-col tb-col-md"><span class="sub-text">Date Added</span></div>
                        <div class="nk-tb-col nk-tb-col-tools">
                            <ul class="nk-tb-actions gx-1 my-n1">
                                <li>
                                    <div class="drodown">
                                        <a href="javascript:void()"
                                            class="dropdown-toggle btn btn-icon btn-trigger mr-n1"
                                            data-toggle="dropdown"><em class="icon ni ni-more-h"></em></a>
                                        <div class="dropdown-menu dropdown-menu-right">
                                            <ul class="link-list-opt no-bdr">
                                                <li><a href="javascript:void()"><em
                                                            class="icon ni ni-mail"></em><span>Send Email to
                                                            All</span></a></li>

                                                <li><a href="javascript:void()"><em
                                                            class="icon ni ni-trash"></em><span>Remove
                                                            Seleted</span></a></li>

                                            </ul>
                                        </div>
                                    </div>
                                </li>
                            </ul>
                        </div>
                    </div>${talentNewHtml}
                    </div>`);

            }





        } catch (error) {

            if (error.response) {
                messageAlert(`<h5>${error.response.statusText}</h5>
                    <p>${error.response.data.message}. Retry login</p>`, `error`);
            } else {
                messageAlert(`<h5>Oops!</h5>
                    <p>${error.message}</p>`, `error`);
            }

        }
    }
    getAllTalents();


    // Get Recent Bookings
    async function getRecentBookings() {
        try {

            $("#recentBookings").html(`
        <div class="nk-tb-col">
            <span class="tb-lead">
                <div class="spinner-grow text-secondary" role="status">
                    <span class="sr-only">Loading...</span>
                </div>
                </span>
        </div>
        `);

            var sum = 0;
            route = `${baseUrl}/becued/latestbookings`;
            config = {
                method: 'get',
                headers: header,
                url: route
            };

            response = await axios(config);

            $("#recentBookings").html('');
            newHtml = "";

            for (let i = 0; i < response.data.data.length; i++) {
                const element = response.data.data[i];

                newHtml += `
                <div class="nk-tb-item">
                <div class="nk-tb-col">
                    <span class="tb-lead"><a
                            href="/dashboard/booking?_id=${element.info._id}">${element.info._id}</a></span>
                </div>
                <div class="nk-tb-col tb-col-sm">
                    <div class="user-card">
                        <div class="user-avatar sm bg-purple-dim">
                            <img src="${element.fans.avatar == `NULL` ? defaultAvatarUrl : element.fans.avatar}"
                                alt="${element.fans._id}" />
                        </div>
                        <div class="user-name">
                            <span class="tb-lead">${element.fans.fullname}</span>
                        </div>
                    </div>
                </div>
                <div class="nk-tb-col tb-col-md">
                    <span class="tb-sub">${new Date(element.info.created_at).toLocaleString('en-GB', dateOption)}</span>
                    
                </div>
                <div class="nk-tb-col">
                    <span class="tb-sub tb-amount">${element.info.amountPaid}
                        <span>NGN</span></span>
                </div>
                <div class="nk-tb-col">
                    <span class="badge badge-dot badge-dot-xs ${element.info.paymentStatus == "not paid" ?
                        `badge-danger` : `badge-success`}">${element.info.paymentStatus}</span>
                </div>
                </div>
                `;
            }


            $("#recentBookings").append(`<div class="nk-tb-list mt-n2">
                <div class="nk-tb-item nk-tb-head">
                <div class="nk-tb-col"><span>Booking No.</span></div>
                <div class="nk-tb-col tb-col-sm"><span>Customer</span></div>
                <div class="nk-tb-col tb-col-md"><span>Date</span></div>
                <div class="nk-tb-col"><span>Amount</span></div>
                <div class="nk-tb-col"><span class="d-none d-sm-inline">Status</span></div>
            </div>${newHtml}</div>`);

        } catch (error) {

            if (error.response) {
                messageAlert(`<h5>${error.response.statusText}</h5>
            <p>${error.response.data.message}. Retry login</p>`, `error`);
            } else {
                messageAlert(`<h5>Oops!</h5>
            <p>${error.message}</p>`, `error`);
            }

        }
    }
    getRecentBookings();


    // Get Booking Details

    async function getBookingDetails() {
        try {

            var _id = new URLSearchParams(window.location.search).get('_id');

            if (_id != null) {
                $("#bookingDetails").html(`
                <div class="nk-tb-col">
                    <span class="tb-lead">
                        <div class="spinner-grow text-secondary" role="status">
                            <span class="sr-only">Loading...</span>
                        </div>
                    </span>
                </div>
                `);


                route = `${baseUrl}/becued/getbookingdetails?_id=${_id}`;
                config = {
                    method: 'get',
                    headers: header,
                    url: route
                };

                response = await axios(config);

                var sum = 0;

                if (response.data.data.transaction.length > 0) {

                    for (let i = 0; i < response.data.data.transaction.length; i++) {
                        const
                            element = response.data.data.transaction[i];
                        sum += element.amount;
                    }
                }


                $("#bookingDetails").html('');
                bookingHtml += ` <div class="nk-block-head nk-block-head-sm">
                    <div class="nk-block-between g-3">
                        <div class="nk-block-head-content">
                            <h3 class="nk-block-title page-title">Bookings / <strong
                                    class="text-primary small">${response.data.data.fans.fullname}</strong></h3>
                            <div class="nk-block-des text-soft">
                                <ul class="list-inline">
                                    <li>Booking ID: <span class="text-base">${response.data.data.info._id}</span></li>
                                    <li>Booking Date: <span class="text-base">${new
                                            Date(response.data.data.info.created_at).toLocaleString('en-GB',
                                            dateOption)}</span>
                                    </li>
                                </ul>
                            </div>
                        </div>
                        <div class="nk-block-head-content">
                            <a href="javascript:void()" onclick="window.history.back();"
                                class="btn btn-outline-light bg-white d-none d-sm-inline-flex"><em
                                    class="icon ni ni-arrow-left"></em><span>Back</span></a>
                            <a href="javascript:void()" onclick="window.history.back();"
                                class="btn btn-icon btn-outline-light bg-white d-inline-flex d-sm-none"><em
                                    class="icon ni ni-arrow-left"></em></a>
                        </div>
                    </div>
                    </div>
                    <div class="nk-block">
                        <div class="card card-bordered">
                            <div class="card-aside-wrap">
                                <div class="card-content">
                                    <ul class="nav nav-tabs nav-tabs-mb-icon nav-tabs-card">
                                        <li class="nav-item">
                                            <a class="nav-link active" href="javascript:void()"><em
                                                    class="icon ni ni ni-repeat"></em><span>Details</span></a>
                                        </li>

                                    </ul>
                                    <div class="card-inner">
                                        <div class="nk-block">
                                            <div class="nk-block-head">
                                                <h5 class="title">Booking Details</h5>
                                                <p>This is the full booking information between
                                                    ${response.data.data.fans.fullname} and
                                                    ${response.data.data.celebs != null ?
                                                    response.data.data.celebs.fullname : `Unknown`}</p>
                                            </div>
                                            <div class="profile-ud-list">
                                                <div class="profile-ud-item">
                                                    <div class="profile-ud wider">
                                                        <span class="profile-ud-label">Title</span>
                                                        <span
                                                            class="profile-ud-value">${response.data.data.info.title}</span>
                                                    </div>
                                                </div>
                                                <div class="profile-ud-item">
                                                    <div class="profile-ud wider">
                                                        <span class="profile-ud-label">Booking For</span>
                                                        <span
                                                            class="profile-ud-value">${response.data.data.info.bookingFor}</span>
                                                    </div>
                                                </div>
                                                <div class="profile-ud-item">
                                                    <div class="profile-ud wider">
                                                        <span class="profile-ud-label">Booking date</span>
                                                        <span class="profile-ud-value">${new
                                                            Date(response.data.data.info.created_at).toLocaleString('en-GB',
                                                            dateOption)}</span>
                                                    </div>
                                                </div>
                                                <div class="profile-ud-item">
                                                    <div class="profile-ud wider">
                                                        <span class="profile-ud-label">Payment Status</span>
                                                        <span
                                                            class="profile-ud-value">${response.data.data.info.paymentStatus}</span>
                                                    </div>
                                                </div>
                                                <div class="profile-ud-item">
                                                    <div class="profile-ud wider">
                                                        <span class="profile-ud-label">Event Type</span>
                                                        <span class="profile-ud-value">${response.data.data.info.event
                                                            !=
                                                            undefined ? response.data.data.info.event :
                                                            `Unknown`}</span>
                                                    </div>
                                                </div>
                                                <div class="profile-ud-item">
                                                    <div class="profile-ud wider">
                                                        <span class="profile-ud-label">Make Public</span>
                                                        <span
                                                            class="profile-ud-value">${response.data.data.info.makePublic}</span>
                                                    </div>
                                                </div>
                                                <div class="profile-ud-item">
                                                    <div class="profile-ud wider">
                                                        <span class="profile-ud-label">Booking Status</span>
                                                        <span
                                                            class="profile-ud-value ${response.data.data.info.sessionStatus == `declined` ? `text-danger` : `text-success`}"
                                                            style="text-align:
                                                                left;">${response.data.data.info.sessionStatus.toUpperCase()}</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="nk-block">
                                            <div class="nk-block-head nk-block-head-line">
                                                <h6 class="title overline-title text-base">Additional
                                                    Information</h6>
                                            </div>
                                            <div class="profile-ud-list">
                                                <div class="profile-ud-item">
                                                    <div class="profile-ud wider">
                                                        <span class="profile-ud-label">Booked Celebrity</span>
                                                        <span class="profile-ud-value">${response.data.data.celebs !=
                                                            null ?
                                                            response.data.data.celebs.fullname : `Unknown`}</span>
                                                    </div>
                                                </div>
                                                <div class="profile-ud-item">
                                                    <div class="profile-ud wider">
                                                        <span class="profile-ud-label">Payment Method</span>
                                                        <span
                                                            class="profile-ud-value">${response.data.data.info.paymentMethod
                                                            != undefined ? response.data.data.info.paymentMethod :
                                                            `Unknown`}</span>
                                                    </div>
                                                </div>
                                                
                                                <div class="profile-ud-item">
                                                    <div class="profile-ud wider">
                                                        <span class="profile-ud-label">Description</span>

                                                    </div>
                                                </div>
                                                
                                                <div class="profile-ud-item" style="width: 100% !important;">
                                                    <div class="profile-ud wider">
                                                        <span class="profile-ud-value"
                                                            style="text-align: left;">${response.data.data.info.description}</span>
                                                    </div>
                                                </div>

                                            </div>
                                        </div>
                                        <div class="nk-divider divider md"></div>

                                    </div>
                                </div>
                                <div class="card-aside card-aside-right user-aside toggle-slide toggle-slide-right toggle-break-xxl"
                                    data-content="userAside" data-toggle-screen="xxl" data-toggle-overlay="true"
                                    data-toggle-body="true">
                                    <div class="card-inner-group" data-simplebar>
                                        <div class="card-inner">
                                            <div class="user-card user-card-s2">
                                                <ul class="preview-list g-2">
                                                    <li class="preview-item">
                                                        <div class="user-avatar-group">
                                                            <div class="user-avatar"
                                                                title="${response.data.data.fans.fullname}">
                                                                <img src="${response.data.data.fans.avatar}"
                                                                    alt="${response.data.data.fans.fullname}">
                                                            </div>
                                                            <div class="user-avatar"
                                                                title="${response.data.data.celebs.fullname}">
                                                                <img src="${response.data.data.celebs != null ? response.data.data.celebs.avatar : defaultAvatarUrl}"
                                                                    alt="${response.data.data.celebs.fullname}">
                                                            </div>
                                                        </div>
                                                    </li>

                                                </ul>
                                                <div class="user-info">
                                                    <div class="badge badge-outline-light badge-pill ucap">
                                                        Fan-Celeb</div>
                                                    <h5>${response.data.data.fans.fullname}</h5>
                                                    <span class="sub-text">${response.data.data.fans.email}</span>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="card-inner card-inner-sm">
                                            <ul class="btn-toolbar justify-center gx-1">
                                                <li title="Send a message"><a href="javascript:void(0)"
                                                        onclick="sendMail('booking', '${response.data.data.info._id}')"
                                                        class="btn btn-trigger btn-icon"><em
                                                            class="icon ni ni-mail"></em></a></li>


                                                <li title="Remove booking"><a href="javascript:void(0)"
                                                        onclick="removeItem('booking', '${response.data.data.info._id}')"
                                                        class="btn btn-trigger btn-icon text-danger"><em
                                                            class="icon ni ni-na"></em></a></li>
                                            </ul>
                                        </div>
                                        <div class="card-inner">
                                            <div class="overline-title-alt mb-2">In Account</div>
                                            <div class="profile-balance">
                                                <div class="profile-balance-group gx-4">
                                                    <div class="profile-balance-sub">
                                                        <div class="profile-balance-amount">
                                                            <div class="number">${parseFloat(sum).toFixed(2)} <small
                                                                    class="currency currency-usd">NGN</small>
                                                            </div>
                                                        </div>
                                                        <div class="profile-balance-subtitle">Total spent on booking
                                                        </div>
                                                    </div>
                                                    <div class="profile-balance-sub">
                                                        <span class="profile-balance-plus text-soft"><em
                                                                class="icon ni ni-plus"></em></span>
                                                        <div class="profile-balance-amount">
                                                            <div class="number">${parseFloat(sum * 0.2).toFixed(2)}
                                                            </div>
                                                        </div>
                                                        <div class="profile-balance-subtitle">Profit Earned
                                                        </div>
                                                    </div>
                                                </div>

                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    `;

                $("#bookingDetails").html(bookingHtml);

            }




        } catch (error) {

            if (error.response) {
                messageAlert(`<h5>${error.response.statusText}</h5>
        <p>${error.response.data.message}. Retry login</p>`, `error`);
            } else {
                messageAlert(`<h5>Oops!</h5>
        <p>${error.message}</p>`, `error`);
            }

        }
    }
    getBookingDetails();


    // Get Accepted Bookings
    async function getAcceptedBookings() {

        try {

            $("#acceptedbookings").html(`
            <div class="nk-tb-col">
                <span class="tb-lead">
                    <div class="spinner-grow text-secondary" role="status">
                        <span class="sr-only">Loading...</span>
                    </div>
                </span>
            </div>
            `);

            route = `${baseUrl}/becued/allbookings?status=accepted`;
            config = {
                method: 'get',
                headers: header,
                url: route
            };

            response = await axios(config);

            $("#acceptedbookings").html("");

            acceptHtml = "";


            if (response.data.data.length > 0) {

                for (let i = 0; i < response.data.data.length; i++) {
                    const element = response.data.data[i];

                    acceptHtml += `
                    <div class="nk-tb-item">
                        <div class="nk-tb-col nk-tb-col-check">
                            <div class="custom-control custom-control-sm custom-checkbox notext">
                                <input type="checkbox" class="custom-control-input" id="uid1">
                                <label class="custom-control-label" for="uid1"></label>
                            </div>
                        </div>
                        <div class="nk-tb-col">
                            <span class="tb-lead"><a
                                    href="/dashboard/booking?_id=${element.info._id}">${element.info._id}</a></span>
                        </div>
                        <div class="nk-tb-col tb-col-md">
                            <span class="tb-sub">${new Date(element.info.created_at).toLocaleString('en-GB',
                                dateOption)}</span>
                        </div>
                        <div class="nk-tb-col">
                            <span class="dot bg-warning d-mb-none"></span>
                            <span class="badge badge-sm badge-dot has-bg badge-success d-none d-mb-inline-flex">${element.info.sessionStatus}</span>
                        </div>
                        <div class="nk-tb-col tb-col-sm">
                            <span class="tb-sub">${element.fans.fullname}</span>
                        </div>
                        <div class="nk-tb-col tb-col-md">
                            <span class="tb-sub">${element.celebs.fullname}</span>
                        </div>
                        <div class="nk-tb-col">
                            <span class="tb-lead">₦${parseFloat(element.info.amountPaid).toFixed(2)}</span>
                        </div>
                            <div class="nk-tb-col nk-tb-col-tools">
                                <ul class="nk-tb-actions gx-1">
                                    <li class="nk-tb-action-hidden"><a href="javascript:void()"
                                            class="btn btn-icon btn-trigger btn-tooltip" title="Mark as Delivered"
                                            data-toggle="dropdown">
                                            <em class="icon ni ni-truck"></em></a></li>
                                    <li class="nk-tb-action-hidden"><a href="javascript:void()"
                                            class="btn btn-icon btn-trigger btn-tooltip" title="View Order"
                                            data-toggle="dropdown">
                                            <em class="icon ni ni-eye"></em></a></li>
                                    <li>
                                        <div class="drodown mr-n1">
                                            <a href="javascript:void()" class="dropdown-toggle btn btn-icon btn-trigger"
                                                data-toggle="dropdown"><em class="icon ni ni-more-h"></em></a>
                                            <div class="dropdown-menu dropdown-menu-right">
                                                <ul class="link-list-opt no-bdr">
                                                    <li><a href="/dashboard/booking?_id=${element.info._id}"><em
                                                                class="icon ni ni-eye"></em><span>Booking
                                                                Details</span></a></li>
                                                    <li><a href="javascript:void()"><em class="icon ni ni-truck"></em><span>Mark as
                                                                Pending</span></a></li>
                                                    <li><a href="javascript:void()"><em class="icon ni ni-money"></em><span>Mark as
                                                                Declined</span></a></li>

                                                    <li><a href="javascript:void()"><em class="icon ni ni-trash"></em><span>Remove
                                                                Booking</span></a></li>
                                                </ul>
                                            </div>
                                        </div>
                                    </li>
                                </ul>
                            </div>
                    </div>`;
                }





            } else {
                acceptHtml += `


                <div class="nk-tb-item">
                    <div class="nk-tb-col nk-tb-col-check">
                        <div class="custom-control custom-control-sm custom-checkbox notext">
                            <input type="checkbox" class="custom-control-input" id="uid1">
                            <label class="custom-control-label" for="uid1"></label>
                        </div>
                    </div>
                    <div class="nk-tb-col">
                        <span class="tb-lead"><a href="javascript:void()">12345678</a></span>
                    </div>
                    <div class="nk-tb-col tb-col-md">
                        <span class="tb-sub">${new Date().toLocaleString('en-GB', dateOption)}</span>
                    </div>
                    <div class="nk-tb-col">
                        <span class="dot bg-warning d-mb-none"></span>
                        <span
                            class="badge badge-sm badge-dot has-bg badge-success d-none d-mb-inline-flex">No record</span>
                    </div>
                    <div class="nk-tb-col tb-col-sm">
                        <span class="tb-sub">Becued</span>
                    </div>
                    <div class="nk-tb-col tb-col-md">
                        <span class="tb-sub">Becued</span>
                    </div>
                    <div class="nk-tb-col">
                        <span class="tb-lead">NGN 0.00</span>
                    </div>
                        <div class="nk-tb-col nk-tb-col-tools">
                            <ul class="nk-tb-actions gx-1">
                                <li class="nk-tb-action-hidden"><a href="javascript:void()" class="btn btn-icon btn-trigger btn-tooltip"
                                        title="Mark as Delivered" data-toggle="dropdown">
                                        <em class="icon ni ni-truck"></em></a></li>
                                <li class="nk-tb-action-hidden"><a href="javascript:void()" class="btn btn-icon btn-trigger btn-tooltip"
                                        title="View Order" data-toggle="dropdown">
                                        <em class="icon ni ni-eye"></em></a></li>
                                <li>
                                    <div class="drodown mr-n1">
                                        <a href="javascript:void()" class="dropdown-toggle btn btn-icon btn-trigger"
                                            data-toggle="dropdown"><em class="icon ni ni-more-h"></em></a>
                                        <div class="dropdown-menu dropdown-menu-right">
                                            <ul class="link-list-opt no-bdr">
                                               
                                            </ul>
                                        </div>
                                    </div>
                                </li>
                            </ul>
                        </div>
                </div>`;
            }


            $("#acceptedbookings").append(`<div class="nk-tb-item nk-tb-head">
                <div class="nk-tb-col nk-tb-col-check">
                    <div class="custom-control custom-control-sm custom-checkbox notext">
                        <input type="checkbox" class="custom-control-input" id="uid">
                        <label class="custom-control-label" for="uid"></label>
                    </div>
                </div>
                <div class="nk-tb-col"><span>Booking Id</span></div>
                <div class="nk-tb-col tb-col-md"><span>Date</span></div>
                <div class="nk-tb-col"><span class="d-none d-mb-block">Status</span></div>
                <div class="nk-tb-col tb-col-sm"><span>Fan</span></div>
                <div class="nk-tb-col tb-col-md"><span>Celebrity</span></div>
                <div class="nk-tb-col"><span>Total</span></div>
                <div class="nk-tb-col nk-tb-col-tools">
                    <ul class="nk-tb-actions gx-1 my-n1">
                        <li>
                            <div class="drodown">
                                <a href="javascript:void()" class="dropdown-toggle btn btn-icon btn-trigger mr-n1"
                                    data-toggle="dropdown"><em class="icon ni ni-more-h"></em></a>
                                <div class="dropdown-menu dropdown-menu-right">
                                    <ul class="link-list-opt no-bdr">
                                        <li><a href="javascript:void()"><em class="icon ni ni-eye"></em><span>View
                                                    details</span></a></li>
                                        <li><a href="javascript:void()"><em class="icon ni ni-edit"></em><span>Update
                                                    Status</span></a></li>
                                        <li><a href="javascript:void()"><em class="icon ni ni-truck"></em><span>Mark as
                                                    Delivered</span></a></li>
                                        <li><a href="javascript:void()"><em class="icon ni ni-money"></em><span>Mark as
                                                    Paid</span></a></li>

                                    </ul>
                                </div>
                            </div>
                        </li>
                    </ul>
                </div>
            </div>${acceptHtml}`);




        } catch (error) {

            if (error.response) {
                messageAlert(`<h5>${error.response.statusText}</h5>
        <p>${error.response.data.message}. Retry login</p>`, `error`);
            } else {
                messageAlert(`<h5>Oops!</h5>
        <p>${error.message}</p>`, `error`);
            }

        }
    }
    getAcceptedBookings();


    // Get Pending Bookings
    async function getPendingBookings() {

        try {

            $("#pendingbookings").html(`
        <div class="nk-tb-col">
            <span class="tb-lead">
                <div class="spinner-grow text-secondary" role="status">
                    <span class="sr-only">Loading...</span>
                </div>
            </span>
        </div>
        `);

            route = `${baseUrl}/becued/allbookings?status=pending`;
            config = {
                method: 'get',
                headers: header,
                url: route
            };

            response = await axios(config);

            $("#pendingbookings").html("");

            pendingHtml = "";


            if (response.data.data.length > 0) {

                for (let i = 0; i < response.data.data.length; i++) {
                    const element = response.data.data[i];
                    pendingHtml += ` <div
            class="nk-tb-item">
            <div class="nk-tb-col nk-tb-col-check">
                <div class="custom-control custom-control-sm custom-checkbox notext">
                    <input type="checkbox" class="custom-control-input" id="uid1">
                    <label class="custom-control-label" for="uid1"></label>
                </div>
            </div>
            <div class="nk-tb-col">
                <span class="tb-lead"><a
                        href="/dashboard/booking?_id=${element.info._id}">${element.info._id}</a></span>
            </div>
            <div class="nk-tb-col tb-col-md">
                <span class="tb-sub">${new Date(element.info.created_at).toLocaleString('en-GB',
                    dateOption)}</span>
            </div>
            <div class="nk-tb-col">
                <span class="dot bg-warning d-mb-none"></span>
                <span
                    class="badge badge-sm badge-dot has-bg badge-warning d-none d-mb-inline-flex">${element.info.sessionStatus}</span>
            </div>
            <div class="nk-tb-col tb-col-sm">
                <span class="tb-sub">${element.fans.fullname}</span>
            </div>
            <div class="nk-tb-col tb-col-md">
                <span class="tb-sub">${element.celebs.fullname}</span>
            </div>
            <div class="nk-tb-col">
                <span class="tb-lead">₦${parseFloat(element.info.amountPaid).toFixed(2)}</span>
            </div>
            <div class="nk-tb-col nk-tb-col-tools">
                <ul class="nk-tb-actions gx-1">
                    <li class="nk-tb-action-hidden"><a href="javascript:void()"
                            class="btn btn-icon btn-trigger btn-tooltip" title="Mark as Delivered"
                            data-toggle="dropdown">
                            <em class="icon ni ni-truck"></em></a></li>
                    <li class="nk-tb-action-hidden"><a href="javascript:void()"
                            class="btn btn-icon btn-trigger btn-tooltip" title="View Order" data-toggle="dropdown">
                            <em class="icon ni ni-eye"></em></a></li>
                    <li>
                        <div class="drodown mr-n1">
                            <a href="javascript:void()" class="dropdown-toggle btn btn-icon btn-trigger"
                                data-toggle="dropdown"><em class="icon ni ni-more-h"></em></a>
                            <div class="dropdown-menu dropdown-menu-right">
                                <ul class="link-list-opt no-bdr">
                                    <li><a href="/dashboard/booking?_id=${element.info._id}"><em
                                                class="icon ni ni-eye"></em><span>Booking
                                                Details</span></a></li>
                                    <li><a href="javascript:void()"><em class="icon ni ni-truck"></em><span>Mark as
                                                Accepted</span></a></li>
                                    <li><a href="javascript:void()"><em class="icon ni ni-money"></em><span>Mark as
                                                Declined</span></a></li>

                                    <li><a href="javascript:void()"><em class="icon ni ni-trash"></em><span>Remove
                                                Booking</span></a></li>
                                </ul>
                            </div>
                        </div>
                    </li>
                </ul>
            </div>
            </div>`;
                }





            } else {
                pendingHtml += `


            <div class="nk-tb-item">
                <div class="nk-tb-col nk-tb-col-check">
                    <div class="custom-control custom-control-sm custom-checkbox notext">
                        <input type="checkbox" class="custom-control-input" id="uid1">
                        <label class="custom-control-label" for="uid1"></label>
                    </div>
                </div>
                <div class="nk-tb-col">
                    <span class="tb-lead"><a href="javascript:void()">12345678</a></span>
                </div>
                <div class="nk-tb-col tb-col-md">
                    <span class="tb-sub">${new Date().toLocaleString('en-GB', dateOption)}</span>
                </div>
                <div class="nk-tb-col">
                    <span class="dot bg-warning d-mb-none"></span>
                    <span class="badge badge-sm badge-dot has-bg badge-warning d-none d-mb-inline-flex">No record</span>
                </div>
                <div class="nk-tb-col tb-col-sm">
                    <span class="tb-sub">Becued</span>
                </div>
                <div class="nk-tb-col tb-col-md">
                    <span class="tb-sub">Becued</span>
                </div>
                <div class="nk-tb-col">
                    <span class="tb-lead">NGN 0.00</span>
                </div>
                <div class="nk-tb-col nk-tb-col-tools">
                    <ul class="nk-tb-actions gx-1">
                        <li class="nk-tb-action-hidden"><a href="javascript:void()"
                                class="btn btn-icon btn-trigger btn-tooltip" title="Mark as Delivered"
                                data-toggle="dropdown">
                                <em class="icon ni ni-truck"></em></a></li>
                        <li class="nk-tb-action-hidden"><a href="javascript:void()"
                                class="btn btn-icon btn-trigger btn-tooltip" title="View Order" data-toggle="dropdown">
                                <em class="icon ni ni-eye"></em></a></li>
                        <li>
                            <div class="drodown mr-n1">
                                <a href="javascript:void()" class="dropdown-toggle btn btn-icon btn-trigger"
                                    data-toggle="dropdown"><em class="icon ni ni-more-h"></em></a>
                                <div class="dropdown-menu dropdown-menu-right">
                                    <ul class="link-list-opt no-bdr">

                                    </ul>
                                </div>
                            </div>
                        </li>
                    </ul>
                </div>
            </div>`;
            }


            $("#pendingbookings").append(`<div class="nk-tb-item nk-tb-head">
                <div class="nk-tb-col nk-tb-col-check">
                    <div class="custom-control custom-control-sm custom-checkbox notext">
                        <input type="checkbox" class="custom-control-input" id="uid">
                        <label class="custom-control-label" for="uid"></label>
                    </div>
                </div>
                <div class="nk-tb-col"><span>Booking Id</span></div>
                <div class="nk-tb-col tb-col-md"><span>Date</span></div>
                <div class="nk-tb-col"><span class="d-none d-mb-block">Status</span></div>
                <div class="nk-tb-col tb-col-sm"><span>Fan</span></div>
                <div class="nk-tb-col tb-col-md"><span>Celebrity</span></div>
                <div class="nk-tb-col"><span>Total</span></div>
                <div class="nk-tb-col nk-tb-col-tools">
                    <ul class="nk-tb-actions gx-1 my-n1">
                        <li>
                            <div class="drodown">
                                <a href="javascript:void()" class="dropdown-toggle btn btn-icon btn-trigger mr-n1"
                                    data-toggle="dropdown"><em class="icon ni ni-more-h"></em></a>
                                <div class="dropdown-menu dropdown-menu-right">
                                    <ul class="link-list-opt no-bdr">
                                        <li><a href="javascript:void()"><em class="icon ni ni-eye"></em><span>View
                                                    details</span></a></li>
                                        <li><a href="javascript:void()"><em class="icon ni ni-edit"></em><span>Update
                                                    Status</span></a></li>
                                        <li><a href="javascript:void()"><em class="icon ni ni-truck"></em><span>Mark as
                                                    Delivered</span></a></li>
                                        <li><a href="javascript:void()"><em class="icon ni ni-money"></em><span>Mark as
                                                    Paid</span></a></li>

                                    </ul>
                                </div>
                            </div>
                        </li>
                    </ul>
                </div>
            </div>${pendingHtml}`);




        } catch (error) {

            if (error.response) {
                messageAlert(`<h5>${error.response.statusText}</h5>
            <p>${error.response.data.message}. Retry login</p>`, `error`);
            } else {
                messageAlert(`<h5>Oops!</h5>
            <p>${error.message}</p>`, `error`);
            }

        }
    }
    getPendingBookings();


    // Get Declined Bookings
    async function getDeclinedBookings() {

        try {

            $("#declinedbookings").html(`
        <div class="nk-tb-col">
            <span class="tb-lead">
                <div class="spinner-grow text-secondary" role="status">
                    <span class="sr-only">Loading...</span>
                </div>
            </span>
        </div>
        `);

            route = `${baseUrl}/becued/allbookings?status=declined`;
            config = {
                method: 'get',
                headers: header,
                url: route
            };

            response = await axios(config);

            $("#declinedbookings").html("");

            declinedHtml = "";


            if (response.data.data.length > 0) {

                for (let i = 0; i < response.data.data.length; i++) {
                    const element = response.data.data[i];
                    declinedHtml += ` <div
            class="nk-tb-item">
            <div class="nk-tb-col nk-tb-col-check">
                <div class="custom-control custom-control-sm custom-checkbox notext">
                    <input type="checkbox" class="custom-control-input" id="uid1">
                    <label class="custom-control-label" for="uid1"></label>
                </div>
            </div>
            <div class="nk-tb-col">
                <span class="tb-lead"><a
                        href="/dashboard/booking?_id=${element.info._id}">${element.info._id}</a></span>
            </div>
            <div class="nk-tb-col tb-col-md">
                <span class="tb-sub">${new Date(element.info.created_at).toLocaleString('en-GB',
                    dateOption)}</span>
            </div>
            <div class="nk-tb-col">
                <span class="dot bg-danger d-mb-none"></span>
                <span
                    class="badge badge-sm badge-dot has-bg badge-danger d-none d-mb-inline-flex">${element.info.sessionStatus}</span>
            </div>
            <div class="nk-tb-col tb-col-sm">
                <span class="tb-sub">${element.fans.fullname}</span>
            </div>
            <div class="nk-tb-col tb-col-md">
                <span class="tb-sub">${element.celebs.fullname}</span>
            </div>
            <div class="nk-tb-col">
                <span class="tb-lead">₦${parseFloat(element.info.amountPaid).toFixed(2)}</span>
            </div>
            <div class="nk-tb-col nk-tb-col-tools">
                <ul class="nk-tb-actions gx-1">
                    <li class="nk-tb-action-hidden"><a href="javascript:void()"
                            class="btn btn-icon btn-trigger btn-tooltip" title="Mark as Delivered"
                            data-toggle="dropdown">
                            <em class="icon ni ni-truck"></em></a></li>
                    <li class="nk-tb-action-hidden"><a href="javascript:void()"
                            class="btn btn-icon btn-trigger btn-tooltip" title="View Order" data-toggle="dropdown">
                            <em class="icon ni ni-eye"></em></a></li>
                    <li>
                        <div class="drodown mr-n1">
                            <a href="javascript:void()" class="dropdown-toggle btn btn-icon btn-trigger"
                                data-toggle="dropdown"><em class="icon ni ni-more-h"></em></a>
                            <div class="dropdown-menu dropdown-menu-right">
                                <ul class="link-list-opt no-bdr">
                                    <li><a href="/dashboard/booking?_id=${element.info._id}"><em
                                                class="icon ni ni-eye"></em><span>Booking
                                                Details</span></a></li>
                                    <li><a href="javascript:void()"><em class="icon ni ni-truck"></em><span>Mark as
                                                Accepted</span></a></li>
                                    <li><a href="javascript:void()"><em class="icon ni ni-money"></em><span>Mark as
                                                Declined</span></a></li>

                                    <li><a href="javascript:void()"><em class="icon ni ni-trash"></em><span>Remove
                                                Booking</span></a></li>
                                </ul>
                            </div>
                        </div>
                    </li>
                </ul>
            </div>
            </div>`;
                }





            } else {
                declinedHtml += `


            <div class="nk-tb-item">
                <div class="nk-tb-col nk-tb-col-check">
                    <div class="custom-control custom-control-sm custom-checkbox notext">
                        <input type="checkbox" class="custom-control-input" id="uid1">
                        <label class="custom-control-label" for="uid1"></label>
                    </div>
                </div>
                <div class="nk-tb-col">
                    <span class="tb-lead"><a href="javascript:void()">12345678</a></span>
                </div>
                <div class="nk-tb-col tb-col-md">
                    <span class="tb-sub">${new Date().toLocaleString('en-GB', dateOption)}</span>
                </div>
                <div class="nk-tb-col">
                    <span class="dot bg-danger d-mb-none"></span>
                    <span class="badge badge-sm badge-dot has-bg badge-danger d-none d-mb-inline-flex">No record</span>
                </div>
                <div class="nk-tb-col tb-col-sm">
                    <span class="tb-sub">Becued</span>
                </div>
                <div class="nk-tb-col tb-col-md">
                    <span class="tb-sub">Becued</span>
                </div>
                <div class="nk-tb-col">
                    <span class="tb-lead">NGN 0.00</span>
                </div>
                <div class="nk-tb-col nk-tb-col-tools">
                    <ul class="nk-tb-actions gx-1">
                        <li class="nk-tb-action-hidden"><a href="javascript:void()"
                                class="btn btn-icon btn-trigger btn-tooltip" title="Mark as Delivered"
                                data-toggle="dropdown">
                                <em class="icon ni ni-truck"></em></a></li>
                        <li class="nk-tb-action-hidden"><a href="javascript:void()"
                                class="btn btn-icon btn-trigger btn-tooltip" title="View Order" data-toggle="dropdown">
                                <em class="icon ni ni-eye"></em></a></li>
                        <li>
                            <div class="drodown mr-n1">
                                <a href="javascript:void()" class="dropdown-toggle btn btn-icon btn-trigger"
                                    data-toggle="dropdown"><em class="icon ni ni-more-h"></em></a>
                                <div class="dropdown-menu dropdown-menu-right">
                                    <ul class="link-list-opt no-bdr">

                                    </ul>
                                </div>
                            </div>
                        </li>
                    </ul>
                </div>
            </div>`;
            }


            $("#declinedbookings").append(`<div class="nk-tb-item nk-tb-head">
                <div class="nk-tb-col nk-tb-col-check">
                    <div class="custom-control custom-control-sm custom-checkbox notext">
                        <input type="checkbox" class="custom-control-input" id="uid">
                        <label class="custom-control-label" for="uid"></label>
                    </div>
                </div>
                <div class="nk-tb-col"><span>Booking Id</span></div>
                <div class="nk-tb-col tb-col-md"><span>Date</span></div>
                <div class="nk-tb-col"><span class="d-none d-mb-block">Status</span></div>
                <div class="nk-tb-col tb-col-sm"><span>Fan</span></div>
                <div class="nk-tb-col tb-col-md"><span>Celebrity</span></div>
                <div class="nk-tb-col"><span>Total</span></div>
                <div class="nk-tb-col nk-tb-col-tools">
                    <ul class="nk-tb-actions gx-1 my-n1">
                        <li>
                            <div class="drodown">
                                <a href="javascript:void()" class="dropdown-toggle btn btn-icon btn-trigger mr-n1"
                                    data-toggle="dropdown"><em class="icon ni ni-more-h"></em></a>
                                <div class="dropdown-menu dropdown-menu-right">
                                    <ul class="link-list-opt no-bdr">
                                        <li><a href="javascript:void()"><em class="icon ni ni-eye"></em><span>View
                                                    details</span></a></li>
                                        <li><a href="javascript:void()"><em class="icon ni ni-edit"></em><span>Update
                                                    Status</span></a></li>
                                        <li><a href="javascript:void()"><em class="icon ni ni-truck"></em><span>Mark as
                                                    Delivered</span></a></li>
                                        <li><a href="javascript:void()"><em class="icon ni ni-money"></em><span>Mark as
                                                    Paid</span></a></li>

                                    </ul>
                                </div>
                            </div>
                        </li>
                    </ul>
                </div>
            </div>${declinedHtml}`);




        } catch (error) {

            if (error.response) {
                messageAlert(`<h5>${error.response.statusText}</h5>
            <p>${error.response.data.message}. Retry login</p>`, `error`);
            } else {
                messageAlert(`<h5>Oops!</h5>
            <p>${error.message}</p>`, `error`);
            }

        }
    }
    getDeclinedBookings();


    // Get Fans Profile
    async function getFansProfile() {
        try {
            var _userId = new URLSearchParams(window.location.search).get('_fansuserId');

            if (_userId != null) {

                $("#thisfansprofile").html(`
                <div class="nk-tb-col">
                    <span class="tb-lead">
                        <div class="spinner-grow text-secondary" role="status">
                            <span class="sr-only">Loading...</span>
                        </div>
                    </span>
                </div>
                `);


                route = `${baseUrl}/becued/fansprofile?_userId=${_userId}`;
                config = {
                    method: 'get',
                    headers: header,
                    url: route
                };

                response = await axios(config);


                $("#thisfansprofile").html("");

                thisfanHtml = "";



                thisfanHtml = `<div class="card-inner card-inner-lg">
                    <div class="nk-block-head nk-block-head-lg">
                        <div class="nk-block-between">
                            <div class="nk-block-head-content">
                                <h4 class="nk-block-title">Personal Information</h4>
                                <div class="nk-block-des">
                                    <p>Basic info, like your name and address, that's used on Becued.
                                    </p>
                                </div>
                            </div>
                            <div class="nk-block-head-content align-self-start d-lg-none">
                                <a href="#" class="toggle btn btn-icon btn-trigger mt-n1" data-target="userAside"><em
                                        class="icon ni ni-menu-alt-r"></em></a>
                            </div>
                        </div>

                       
                    </div>
                    <div class="nk-block">
                        <div class="nk-data data-list">
                            <div class="data-head">
                                <h6 class="overline-title">Basics</h6>
                            </div>
                            <div class="data-item" data-toggle="modal" data-target="#profile-edit">
                                <div class="data-col">
                                    <span class="data-label">Full Name</span>
                                    <span class="data-value">${response.data.data.fullname}</span>
                                </div>
                                <div class="data-col data-col-end"><span class="data-more"><em
                                            class="icon ni ni-forward-ios"></em></span></div>
                            </div>
                            <div class="data-item" data-toggle="modal" data-target="#profile-edit">
                                <div class="data-col">
                                    <span class="data-label">Username</span>
                                    <span class="data-value">${response.data.data.username}</span>
                                </div>
                                <div class="data-col data-col-end"><span class="data-more"><em
                                            class="icon ni ni-forward-ios"></em></span></div>
                            </div>
                            <div class="data-item">
                                <div class="data-col">
                                    <span class="data-label">Email</span>
                                    <span class="data-value">${response.data.data.email}</span>
                                </div>
                                <div class="data-col data-col-end"><span class="data-more disable"><em
                                            class="icon ni ni-lock-alt"></em></span></div>
                            </div>
                            <div class="data-item" data-toggle="modal" data-target="#profile-edit">
                                <div class="data-col">
                                    <span class="data-label">Phone Number</span>
                                    <span class="data-value text-soft">${response.data.data.phoneNumber}</span>
                                </div>
                                <div class="data-col data-col-end"><span class="data-more"><em
                                            class="icon ni ni-forward-ios"></em></span></div>
                            </div>
                            <div class="data-item" data-toggle="modal" data-target="#profile-edit">
                                <div class="data-col">
                                    <span class="data-label">Date of Birth</span>
                                    <span class="data-value">${response.data.data.birthday}</span>
                                </div>
                                <div class="data-col data-col-end"><span class="data-more"><em
                                            class="icon ni ni-forward-ios"></em></span></div>
                            </div>

                            <div class="data-item" data-toggle="modal" data-target="#profile-edit">
                                <div class="data-col">
                                    <span class="data-label">Account Status</span>
                                    <span class="data-value text-soft">${response.data.data.accountStatus}</span>
                                </div>
                                <div class="data-col data-col-end"><span class="data-more"><em
                                            class="icon ni ni-forward-ios"></em></span></div>
                            </div>

                            <div class="data-item" data-toggle="modal" data-target="#profile-edit">
                                <div class="data-col">
                                    <span class="data-label">Interests</span>
                                    <span class="data-value text-soft">${response.data.data.interests}</span>
                                </div>
                                <div class="data-col data-col-end"><span class="data-more"><em
                                            class="icon ni ni-forward-ios"></em></span></div>
                            </div>

                            <div class="data-item" data-toggle="modal" data-target="#profile-edit">
                                <div class="data-col">
                                    <span class="data-label">Loggin Account</span>
                                    <span class="data-value text-soft">${response.data.data.isSocialAccount[0].platform
                                        == "default" ? `Becued` : response.data.data.isSocialAccount[0].platform}</span>
                                </div>
                                <div class="data-col data-col-end"><span class="data-more"><em
                                            class="icon ni ni-forward-ios"></em></span></div>
                            </div>

                            <div class="data-item" data-toggle="modal" data-target="#profile-edit">
                                <div class="data-col">
                                    <span class="data-label">Date Added</span>
                                    <span class="data-value text-soft">${new
                                        Date(response.data.data.created_at).toLocaleString('en-GB', dateOption)}</span>
                                </div>
                                <div class="data-col data-col-end"><span class="data-more"><em
                                            class="icon ni ni-forward-ios"></em></span></div>
                            </div>
                           
                        </div>
                        
                    </div>
                </div>
                <div class="card-aside card-aside-left user-aside toggle-slide toggle-slide-left toggle-break-lg"
                    data-content="userAside" data-toggle-screen="lg" data-toggle-overlay="true">
                    <div class="card-inner-group" data-simplebar>
                        <div class="card-inner">
                            <div class="user-card">
                                <div class="user-avatar">
                                    <img src="${response.data.data.avatar}" alt="${response.data.data.username}" />
                                </div>
                                <div class="user-info">
                                    <span class="lead-text">${response.data.data.fullname}</span>
                                    <span class="sub-text">${response.data.data.email}</span>
                                </div>

                            </div>
                        </div>
                       
                        <div class="card-inner p-0">
                            <ul class="link-list-menu">
                                <li><a class="active"
                                        href="/dashboard/fansprofile?_fansuserId=${response.data.data._id}"><em
                                            class="icon ni ni-user-fill-c"></em><span>Personal
                                            Infomation</span></a></li>

                                <li><a
                                        href="/dashboard/fanstransactionhistory?_fansuserId=${response.data.data._id}"><em
                                            class="icon ni ni-bell-fill"></em><span>Transaction
                                            History</span></a>
                                </li>
                                <li><a
                                        href="/dashboard/fansaccountactivity?_fansuserId=${response.data.data._id}"><em
                                            class="icon ni ni-activity-round-fill"></em><span>Account
                                            Activity</span></a></li>
                            </ul>
                        </div>
                    </div>
                </div>`;



                $("#thisfansprofile").html(thisfanHtml);



            }

        } catch (error) {

            if (error.response) {
                messageAlert(`<h5>${error.response.statusText}</h5>
        <p>${error.response.data.message}. Retry login</p>`, `error`);
            } else {
                messageAlert(`<h5>Oops!</h5>
        <p>${error.message}</p>`, `error`);
            }

        }
    }

    getFansProfile();


    // Get Celebs Profile
    async function getCelebsProfile() {
        try {
            var _userId = new URLSearchParams(window.location.search).get('_celebsuserId');


            if (_userId != null) {

                $("#thiscelebsprofile").html(`
                <div class="nk-tb-col">
                    <span class="tb-lead">
                        <div class="spinner-grow text-secondary" role="status">
                            <span class="sr-only">Loading...</span>
                        </div>
                    </span>
                </div>
                `);


                route = `${baseUrl}/becued/celebsprofile?_userId=${_userId}`;
                config = {
                    method: 'get',
                    headers: header,
                    url: route
                };

                response = await axios(config);



                $("#thiscelebsprofile").html("");

                thiscelebHtml = "";

                var user = response.data.data.user;
                var earnings = response.data.data.earnings;



                thiscelebHtml = `<div class="card-inner card-inner-lg">
                    <div class="nk-block-head nk-block-head-lg">
                        <div class="nk-block-between">
                            <div class="nk-block-head-content">
                                <h4 class="nk-block-title">Personal Information</h4>
                                <div class="nk-block-des">
                                    <p>Basic info, like your name and address, that's used on Becued.
                                    </p>
                                </div>
                            </div>
                            <div class="nk-block-head-content align-self-start d-lg-none">
                                <a href="#" class="toggle btn btn-icon btn-trigger mt-n1" data-target="userAside"><em
                                        class="icon ni ni-menu-alt-r"></em></a>
                            </div>
                        </div>
                    </div>
                    <div class="nk-block">
                        <div class="nk-data data-list">
                            <div class="data-head">
                                <h6 class="overline-title">Basics</h6>
                            </div>
                            <div class="data-item" data-toggle="modal" data-target="#profile-edit">
                                <div class="data-col">
                                    <span class="data-label">Full Name</span>
                                    <span class="data-value">${user.fullname}</span>
                                </div>
                                <div class="data-col data-col-end"><span class="data-more"><em
                                            class="icon ni ni-forward-ios"></em></span></div>
                            </div>
                            <div class="data-item" data-toggle="modal" data-target="#profile-edit">
                                <div class="data-col">
                                    <span class="data-label">Username</span>
                                    <span class="data-value">${user.username}</span>
                                </div>
                                <div class="data-col data-col-end"><span class="data-more"><em
                                            class="icon ni ni-forward-ios"></em></span></div>
                            </div>
                            <div class="data-item">
                                <div class="data-col">
                                    <span class="data-label">Email</span>
                                    <span class="data-value">${user.email}</span>
                                </div>
                                <div class="data-col data-col-end"><span class="data-more disable"><em
                                            class="icon ni ni-lock-alt"></em></span></div>
                            </div>
                            <div class="data-item" data-toggle="modal" data-target="#profile-edit">
                                <div class="data-col">
                                    <span class="data-label">Phone Number</span>
                                    <span class="data-value text-soft">${user.phoneNumber}</span>
                                </div>
                                <div class="data-col data-col-end"><span class="data-more"><em
                                            class="icon ni ni-forward-ios"></em></span></div>
                            </div>
                            <div class="data-item" data-toggle="modal" data-target="#profile-edit">
                                <div class="data-col">
                                    <span class="data-label">Account Status</span>
                                    <span class="data-value">${user.accountStatus}</span>
                                </div>
                                <div class="data-col data-col-end"><span class="data-more"><em
                                            class="icon ni ni-forward-ios"></em></span></div>
                            </div>
                            <div class="data-item" data-toggle="modal" data-target="#profile-edit">
                                <div class="data-col">
                                    <span class="data-label">Number of followers</span>
                                    <span class="data-value">${user.followers}</span>
                                </div>
                                <div class="data-col data-col-end"><span class="data-more"><em
                                            class="icon ni ni-forward-ios"></em></span></div>
                            </div>

                            <div class="data-item" data-toggle="modal" data-target="#profile-edit">
                                <div class="data-col">
                                    <span class="data-label">Industry</span>
                                    <span class="data-value">${user.industry}</span>
                                </div>
                                <div class="data-col data-col-end"><span class="data-more"><em
                                            class="icon ni ni-forward-ios"></em></span></div>
                            </div>

                            <div class="data-item" data-toggle="modal" data-target="#profile-edit">
                                <div class="data-col">
                                    <span class="data-label">Rating</span>
                                    <span class="data-value">${user.ratings}</span>
                                </div>
                                <div class="data-col data-col-end"><span class="data-more"><em
                                            class="icon ni ni-forward-ios"></em></span></div>
                            </div>

                            <div class="data-item" data-toggle="modal" data-target="#profile-edit">
                                <div class="data-col">
                                    <span class="data-label">Social Handle</span>
                                    <span class="data-value">${user.socialHandle} on
                                        ${user.socialMedia}</span>
                                </div>
                                <div class="data-col data-col-end"><span class="data-more"><em
                                            class="icon ni ni-forward-ios"></em></span></div>
                            </div>
                            <div class="data-item" data-toggle="modal" data-target="#profile-edit">
                                <div class="data-col">
                                    <span class="data-label">Loggin Account</span>
                                    <span class="data-value text-soft">Becued</span>
                                </div>
                                <div class="data-col data-col-end"><span class="data-more"><em
                                            class="icon ni ni-forward-ios"></em></span></div>
                            </div>
                            
                        </div>
                        <div class="nk-data data-list">
                            <div class="data-head">
                                <h6 class="overline-title">Preferences</h6>
                            </div>
                            <div class="data-item">
                                <div class="data-col">
                                    <span class="data-label">Description</span>
                                    <span class="data-value">&nbsp;</span>
                                </div>
                                <div class="data-col data-col-end"><span class="data-more disable"><em
                                            class="icon ni ni-lock-alt"></em></span></div>
                            </div>
                            <div class="data-item">
                                <div class="data-col">
                                    <span class="data-value">${user.description}</span>
                                </div>
                                
                            </div>
                            <div class="data-item">
                                <div class="data-col">
                                    <span class="data-label">Has Bank Info</span>
                                    <span class="data-value">${user.bankInfo}</span>
                                </div>
                                <div class="data-col data-col-end"><span class="data-more disable"><em
                                            class="icon ni ni-lock-alt"></em></span></div>
                            </div>
                            <div class="data-item">
                                <div class="data-col">
                                    <span class="data-label">Has Intro Video</span>
                                    <span class="data-value">${user.introVideo}</span>
                                </div>
                                <div class="data-col data-col-end"><span class="data-more disable"><em
                                            class="icon ni ni-lock-alt"></em></span></div>
                            </div>
                            <div class="data-item">
                                <div class="data-col">
                                    <span class="data-label">Has Price Info</span>
                                    <span class="data-value">${user.priceInfo}</span>
                                </div>
                                <div class="data-col data-col-end"><span class="data-more disable"><em
                                            class="icon ni ni-lock-alt"></em></span></div>
                            </div>
                           
                            
                        </div>
                    </div>
                </div>

                
                <div class="card-aside card-aside-left user-aside toggle-slide toggle-slide-left toggle-break-lg"
                    data-content="userAside" data-toggle-screen="lg" data-toggle-overlay="true">
                    <div class="card-inner-group" data-simplebar>
                        <div class="card-inner">
                            <div class="user-card">
                                <div class="user-avatar">
                                    <img src="${user.avatar}" alt="${user.username}" />
                                </div>
                                <div class="user-info">
                                    <span class="lead-text">${user.fullname}</span>
                                    <span class="sub-text">${user.email}</span>
                                </div>

                            </div>
                        </div>

                        ${earnings != null ? `<div class="card-inner">
                            <div class="user-account-info py-0">
                                <h6 class="overline-title-alt">Account Balance</h6>
                                <div class="user-balance">${parseFloat(earnings.walletBalance).toFixed(2)} <small
                                        class="currency currency-btc">NGN</small>
                                </div>
                                <div class="user-balance-sub">Becued deduction
                                    <span>${parseFloat(earnings.becuedDeduction).toFixed(2)} <span
                                            class="currency currency-btc">NGN</span></span></div>
                            </div>
                        </div>` : `<div class="card-inner">
                            <div class="user-account-info py-0">
                                <h6 class="overline-title-alt">Account Balance</h6>
                                <div class="user-balance">0.00<small
                                        class="currency currency-btc">NGN</small>
                                </div>
                                <div class="user-balance-sub">Becued deduction
                                    <span>0.00<span
                                            class="currency currency-btc">NGN</span></span></div>
                            </div>
                        </div>`}
                        
                        <div class="card-inner p-0">
                            <ul class="link-list-menu">
                                <li><a class="active"
                                        href="/dashboard/celebsprofile?_celebsuserId=${user._id}"><em
                                            class="icon ni ni-user-fill-c"></em><span>Personal
                                            Infomation</span></a></li>
                                <li><a href="/dashboard/celebstransactionhistory?_celebsuserId=${user._id}"><em
                                            class="icon ni ni-bell-fill"></em><span>Transaction History</span></a>
                                </li>
                                <li><a
                                        href="/dashboard/celebsaccountactivity?_celebsuserId=${user._id}"><em
                                            class="icon ni ni-activity-round-fill"></em><span>Account
                                            Activity</span></a></li>
                                
                            </ul>
                        </div>
                    </div>
                </div>`;



                $("#thiscelebsprofile").html(thiscelebHtml);



            }

        } catch (error) {

            if (error.response) {
                messageAlert(`<h5>${error.response.statusText}</h5>
        <p>${error.response.data.message}. Retry login</p>`, `error`);
            } else {
                messageAlert(`<h5>Oops!</h5>
        <p>${error.message}</p>`, `error`);
            }

        }
    }

    getCelebsProfile();


    // Get Fan Transaction  History
    async function getFanTransactionHistory() {
        try {
            var _userId = new URLSearchParams(window.location.search).get('_fansuserId');

            if (_userId != null) {

                $("#thisfanstransactionhistory").html(`
        <div class="nk-tb-col">
            <span class="tb-lead">
                <div class="spinner-grow text-secondary" role="status">
                    <span class="sr-only">Loading...</span>
                </div>
            </span>
        </div>
        `);


                route = `${baseUrl}/becued/fanstransactionhistory?_userId=${_userId}`;
                config = {
                    method: 'get',
                    headers: header,
                    url: route
                };

                response = await axios(config);

                $("#thisfanstransactionhistory").html("");

                thisTransHtml, thisHistoryHtml = "";

                if (response.data.data.history.length == 0) {
                    thisHistoryHtml = `<tr>
                     <td colspan="4" align="center">No transaction history record</td>
                 </tr>`;
                } else {
                    for (let i = 0; i < response.data.data.history.length; i++) {
                        const
                            historyElement = response.data.data.history[i];

                        thisHistoryHtml += `<tr>
                        <td>${new Date(historyElement.created_at).toLocaleString('en-GB', dateOption)}</td>
                        <td>${historyElement.activity}</td>
                        <td>${parseFloat(historyElement.amount).toFixed(2)}</td>
                        <td>${historyElement.status}</td>
                        </tr>`;

                    }

                }



                thisTransHtml = `<div class="card-inner card-inner-lg">
            <div class="nk-block-head nk-block-head-lg">
                <div class="nk-block-between">
                    <div class="nk-block-head-content">
                        <h4 class="nk-block-title">Transaction History</h4>
                        <div class="nk-block-des">
                            <p>All transaction history record with bookings and spendings
                            </p>
                        </div>
                    </div>
                    <div class="nk-block-head-content align-self-start d-lg-none">
                        <a href="#" class="toggle btn btn-icon btn-trigger mt-n1" data-target="userAside"><em
                                class="icon ni ni-menu-alt-r"></em></a>
                    </div>
                </div>
            </div>
            <div class="nk-block">
                <div class="nk-data data-list table-responsive">
                    <table class="table table-striped table-bordered" id="myTranxhistory">

                        <thead>

                            <tr>

                                <td>Date</td>
                                <td>Description</td>
                                <td>Amount</td>
                                <td>Status</td>
                            
                            </tr>
                            </thead>

                            <tbody>

                                
                                ${thisHistoryHtml}


                            </tbody>

                    </table>
                    
                </div>

            </div>
        </div>
        <div class="card-aside card-aside-left user-aside toggle-slide toggle-slide-left toggle-break-lg"
            data-content="userAside" data-toggle-screen="lg" data-toggle-overlay="true">
            <div class="card-inner-group" data-simplebar>
                <div class="card-inner">
                    <div class="user-card">
                        <div class="user-avatar">
                            <img src="${response.data.data.user.avatar}" alt="${response.data.data.user.username}" />
                        </div>
                        <div class="user-info">
                            <span class="lead-text">${response.data.data.user.fullname}</span>
                            <span class="sub-text">${response.data.data.user.email}</span>
                        </div>

                    </div>
                </div>

                <div class="card-inner p-0">
                    <ul class="link-list-menu">
                        <li><a href="/dashboard/fansprofile?_fansuserId=${response.data.data.user._id}"><em
                                    class="icon ni ni-user-fill-c"></em><span>Personal
                                    Infomation</span></a></li>

                        <li><a class="active" href="/dashboard/fanstransactionhistory?_fansuserId=${response.data.data.user._id}"><em
                                    class="icon ni ni-bell-fill"></em><span>Transaction
                                    History</span></a>
                        </li>
                        <li><a href="/dashboard/fansaccountactivity?_fansuserId=${response.data.data.user._id}"><em
                                    class="icon ni ni-activity-round-fill"></em><span>Account
                                    Activity</span></a></li>
                    </ul>
                </div>
            </div>
        </div>`;



                $("#thisfanstransactionhistory").html(thisTransHtml);



            }

        } catch (error) {

            if (error.response) {
                messageAlert(`<h5>${error.response.statusText}</h5>
        <p>${error.response.data.message}. Retry login</p>`, `error`);
            } else {
                messageAlert(`<h5>Oops!</h5>
        <p>${error.message}</p>`, `error`);
            }

        }
    }

    getFanTransactionHistory();


    // Get Fan Activity Log
    async function getFanActivityLog() {
        try {
            var _userId = new URLSearchParams(window.location.search).get('_fansuserId');

            if (_userId != null) {

                $("#thisfansactivitylog").html(`
        <div class="nk-tb-col">
            <span class="tb-lead">
                <div class="spinner-grow text-secondary" role="status">
                    <span class="sr-only">Loading...</span>
                </div>
            </span>
        </div>
        `);


                route = `${baseUrl}/becued/fansactivitylog?_userId=${_userId}`;
                config = {
                    method: 'get',
                    headers: header,
                    url: route
                };

                response = await axios(config);

                $("#thisfansactivitylog").html("");

                thisActHtml, thisActivityHtml = "";

                if (response.data.data.history.length == 0) {
                    thisActivityHtml = `<tr>
            <td colspan="3" align="center">No activity log</td>
        </tr>`;
                } else {
                    for (let i = 0; i < response.data.data.history.length; i++) {
                        const
                            activityElement = response.data.data.history[i];
                        thisActivityHtml += `<tr>
            <td>${new Date(activityElement.created_at).toLocaleString('en-GB', dateOption)}</td>
            <td>${activityElement.activity}</td>
            <td>${activityElement.action}</td>
            </tr>`;

                    }

                }



                thisActHtml = `<div class="card-inner card-inner-lg">
                <div class="nk-block-head nk-block-head-lg">
                    <div class="nk-block-between">
                        <div class="nk-block-head-content">
                            <h4 class="nk-block-title">Activity Log</h4>
                            <div class="nk-block-des">
                                <p>All users activity as monitored on the platform is recorded here
                                </p>
                            </div>
                        </div>
                        <div class="nk-block-head-content align-self-start d-lg-none">
                            <a href="#" class="toggle btn btn-icon btn-trigger mt-n1" data-target="userAside"><em
                                    class="icon ni ni-menu-alt-r"></em></a>
                        </div>
                    </div>
                </div>
                <div class="nk-block">
                    <div class="nk-data data-list table-responsive">
                        <table class="table table-striped table-bordered" id="myTranxhistory">

                            <thead>

                                <tr>

                                    <td>Date</td>
                                    <td>Description</td>
                                    <td>Status</td>

                                </tr>
                            </thead>

                            <tbody>


                                ${thisActivityHtml}


                            </tbody>

                        </table>

                    </div>

                </div>
            </div>
            <div class="card-aside card-aside-left user-aside toggle-slide toggle-slide-left toggle-break-lg"
                data-content="userAside" data-toggle-screen="lg" data-toggle-overlay="true">
                <div class="card-inner-group" data-simplebar>
                    <div class="card-inner">
                        <div class="user-card">
                            <div class="user-avatar">
                                <img src="${response.data.data.user.avatar}"
                                    alt="${response.data.data.user.username}" />
                            </div>
                            <div class="user-info">
                                <span class="lead-text">${response.data.data.user.fullname}</span>
                                <span class="sub-text">${response.data.data.user.email}</span>
                            </div>

                        </div>
                    </div>

                    <div class="card-inner p-0">
                        <ul class="link-list-menu">
                            <li><a href="/dashboard/fansprofile?_fansuserId=${response.data.data.user._id}"><em
                                        class="icon ni ni-user-fill-c"></em><span>Personal
                                        Infomation</span></a></li>

                            <li><a
                                    href="/dashboard/fanstransactionhistory?_fansuserId=${response.data.data.user._id}"><em
                                        class="icon ni ni-bell-fill"></em><span>Transaction
                                        History</span></a>
                            </li>
                            <li><a class="active" href="/dashboard/fansaccountactivity?_fansuserId=${response.data.data.user._id}"><em
                                        class="icon ni ni-activity-round-fill"></em><span>Account
                                        Activity</span></a></li>
                        </ul>
                    </div>
                </div>
            </div>`;



                $("#thisfansactivitylog").html(thisActHtml);



            }

        } catch (error) {

            if (error.response) {
                messageAlert(`<h5>${error.response.statusText}</h5>
            <p>${error.response.data.message}. Retry login</p>`, `error`);
            } else {
                messageAlert(`<h5>Oops!</h5>
            <p>${error.message}</p>`, `error`);
            }

        }
    }

    getFanActivityLog();



    // Get Celeb Transaction History
    async function getCelebTransactionHistory() {
        try {
            var _userId = new URLSearchParams(window.location.search).get('_celebsuserId');

            if (_userId != null) {

                $("#thiscelebstransactionhistory").html(`
    <div class="nk-tb-col">
        <span class="tb-lead">
            <div class="spinner-grow text-secondary" role="status">
                <span class="sr-only">Loading...</span>
            </div>
        </span>
    </div>
    `);


                route = `${baseUrl}/becued/celebstransactionhistory?_userId=${_userId}`;
                config = {
                    method: 'get',
                    headers: header,
                    url: route
                };

                response = await axios(config);

                $("#thiscelebstransactionhistory").html("");

                thisTransHtml, thisHistoryHtml = "";

                if (response.data.data.history.length == 0) {
                    thisHistoryHtml = `<tr>
        <td colspan="4" align="center">No transaction history record</td>
    </tr>`;
                } else {
                    for (let i = 0; i < response.data.data.history.length; i++) {
                        const historyElement = response.data.data.history[i];
                        thisHistoryHtml += `<tr>
        <td>${new Date(historyElement.created_at).toLocaleString('en-GB', dateOption)}</td>
        <td>${historyElement.activity}</td>
        <td>${parseFloat(historyElement.amount).toFixed(2)}</td>
        <td>${historyElement.status}</td>
        </tr>`;

                    }

                }



                thisTransHtml = `<div class="card-inner card-inner-lg">
            <div class="nk-block-head nk-block-head-lg">
                <div class="nk-block-between">
                    <div class="nk-block-head-content">
                        <h4 class="nk-block-title">Transaction History</h4>
                        <div class="nk-block-des">
                            <p>All transaction history record with bookings and spendings
                            </p>
                        </div>
                    </div>
                    <div class="nk-block-head-content align-self-start d-lg-none">
                        <a href="#" class="toggle btn btn-icon btn-trigger mt-n1" data-target="userAside"><em
                                class="icon ni ni-menu-alt-r"></em></a>
                    </div>
                </div>
            </div>
            <div class="nk-block">
                <div class="nk-data data-list table-responsive">
                    <table class="table table-striped table-bordered" id="myTranxhistory">

                        <thead>

                            <tr>

                                <td>Date</td>
                                <td>Description</td>
                                <td>Amount</td>
                                <td>Status</td>

                            </tr>
                        </thead>

                        <tbody>


                            ${thisHistoryHtml}


                        </tbody>

                    </table>

                </div>

            </div>
        </div>
        <div class="card-aside card-aside-left user-aside toggle-slide toggle-slide-left toggle-break-lg"
            data-content="userAside" data-toggle-screen="lg" data-toggle-overlay="true">
            <div class="card-inner-group" data-simplebar>
                <div class="card-inner">
                    <div class="user-card">
                        <div class="user-avatar">
                            <img src="${response.data.data.user.avatar}" alt="${response.data.data.user.username}" />
                        </div>
                        <div class="user-info">
                            <span class="lead-text">${response.data.data.user.fullname}</span>
                            <span class="sub-text">${response.data.data.user.email}</span>
                        </div>

                    </div>
                </div>

                <div class="card-inner p-0">
                    <ul class="link-list-menu">
                        <li><a href="/dashboard/celebsprofile?_celebsuserId=${response.data.data.user._id}"><em
                                    class="icon ni ni-user-fill-c"></em><span>Personal
                                    Infomation</span></a></li>

                        <li><a class="active"
                                href="/dashboard/celebstransactionhistory?_celebsuserId=${response.data.data.user._id}"><em
                                    class="icon ni ni-bell-fill"></em><span>Transaction
                                    History</span></a>
                        </li>
                        <li><a href="/dashboard/celebsaccountactivity?_celebsuserId=${response.data.data.user._id}"><em
                                    class="icon ni ni-activity-round-fill"></em><span>Account
                                    Activity</span></a></li>
                    </ul>
                </div>
            </div>
        </div>`;



                $("#thiscelebstransactionhistory").html(thisTransHtml);



            }

        } catch (error) {

            if (error.response) {
                messageAlert(`<h5>${error.response.statusText}</h5>
        <p>${error.response.data.message}. Retry login</p>`, `error`);
            } else {
                messageAlert(`<h5>Oops!</h5>
        <p>${error.message}</p>`, `error`);
            }

        }
    }

    getCelebTransactionHistory();


    // Get Celeb Activity Log
    async function getCelebActivityLog() {
        try {
            var _userId = new URLSearchParams(window.location.search).get('_celebsuserId');

            if (_userId != null) {

                $("#thiscelebsactivitylog").html(`
        <div class="nk-tb-col">
            <span class="tb-lead">
                <div class="spinner-grow text-secondary" role="status">
                    <span class="sr-only">Loading...</span>
                </div>
            </span>
        </div>
        `);


                route = `${baseUrl}/becued/celebsactivitylog?_userId=${_userId}`;
                config = {
                    method: 'get',
                    headers: header,
                    url: route
                };

                response = await axios(config);

                $("#thiscelebsactivitylog").html("");

                thisActHtml, thisActivityHtml = "";

                if (response.data.data.history.length == 0) {
                    thisActivityHtml = `<tr>
            <td colspan="3" align="center">No activity log</td>
        </tr>`;
                } else {
                    for (let i = 0; i < response.data.data.history.length; i++) {
                        const
                            activityElement = response.data.data.history[i];
                        thisActivityHtml += `<tr>
            <td>${new Date(activityElement.created_at).toLocaleString('en-GB', dateOption)}</td>
            <td>${activityElement.activity}</td>
            <td>${activityElement.action}</td>
            </tr>`;

                    }

                }



                thisActHtml = `<div class="card-inner card-inner-lg">
                <div class="nk-block-head nk-block-head-lg">
                    <div class="nk-block-between">
                        <div class="nk-block-head-content">
                            <h4 class="nk-block-title">Activity Log</h4>
                            <div class="nk-block-des">
                                <p>All users activity as monitored on the platform is recorded here
                                </p>
                            </div>
                        </div>
                        <div class="nk-block-head-content align-self-start d-lg-none">
                            <a href="#" class="toggle btn btn-icon btn-trigger mt-n1" data-target="userAside"><em
                                    class="icon ni ni-menu-alt-r"></em></a>
                        </div>
                    </div>
                </div>
                <div class="nk-block">
                    <div class="nk-data data-list table-responsive">
                        <table class="table table-striped table-bordered" id="myTranxhistory">

                            <thead>

                                <tr>

                                    <td>Date</td>
                                    <td>Description</td>
                                    <td>Status</td>

                                </tr>
                            </thead>

                            <tbody>


                                ${thisActivityHtml}


                            </tbody>

                        </table>

                    </div>

                </div>
            </div>
            <div class="card-aside card-aside-left user-aside toggle-slide toggle-slide-left toggle-break-lg"
                data-content="userAside" data-toggle-screen="lg" data-toggle-overlay="true">
                <div class="card-inner-group" data-simplebar>
                    <div class="card-inner">
                        <div class="user-card">
                            <div class="user-avatar">
                                <img src="${response.data.data.user.avatar}"
                                    alt="${response.data.data.user.username}" />
                            </div>
                            <div class="user-info">
                                <span class="lead-text">${response.data.data.user.fullname}</span>
                                <span class="sub-text">${response.data.data.user.email}</span>
                            </div>

                        </div>
                    </div>

                    <div class="card-inner p-0">
                        <ul class="link-list-menu">
                            <li><a href="/dashboard/celebsprofile?_celebsuserId=${response.data.data.user._id}"><em
                                        class="icon ni ni-user-fill-c"></em><span>Personal
                                        Infomation</span></a></li>

                            <li><a href="/dashboard/celebstransactionhistory?_celebsuserId=${response.data.data.user._id}"><em
                                        class="icon ni ni-bell-fill"></em><span>Transaction
                                        History</span></a>
                            </li>
                            <li><a class="active"
                                    href="/dashboard/celebsaccountactivity?_celebsuserId=${response.data.data.user._id}"><em
                                        class="icon ni ni-activity-round-fill"></em><span>Account
                                        Activity</span></a></li>
                        </ul>
                    </div>
                </div>
            </div>`;



                $("#thiscelebsactivitylog").html(thisActHtml);



            }

        } catch (error) {

            if (error.response) {
                messageAlert(`<h5>${error.response.statusText}</h5>
            <p>${error.response.data.message}. Retry login</p>`, `error`);
            } else {
                messageAlert(`<h5>Oops!</h5>
            <p>${error.message}</p>`, `error`);
            }

        }
    }

    getCelebActivityLog();




    function sendMail(value, id) {

        $('#_id').val(id);
        $('#value').val(value);

        $('.messageModal').click();

    }


    function accountState(value, id) {

        $('._statusid').val(id);
        $('.valueid').val(value);

        $('.accountStateModal').click();

    }


    function removeItem(value, id) {
        console.log({
            id,
            value
        });
    }


    async function processAlert() {
        try {

            $('.submitBtn').addClass('disp-0');
            $('.spinload').removeClass('disp-0');

            var value = $('#value').val();
            var id = $('#_id').val();
            var formData = new FormData(modalElem);


            route = `${baseUrl}/becued/messaging?value=${value}&_id=${id}`;
            config = {
                method: 'post',
                headers: header,
                url: route,
                data: formData
            };

            response = await axios(config);

            $('.submitBtn').removeClass('disp-0');
            $('.spinload').addClass('disp-0');


            $('#modalElem')[0].reset();

            messageAlert(`<h5>${response.statusText}</h5>
            <p>${response.data.message}.</p>`, `success`);



        } catch (error) {

            $('.submitBtn').removeClass('disp-0');
            $('.spinload').addClass('disp-0');

            if (error.response) {
                messageAlert(`<h5>${error.response.statusText}</h5>
        <p>${error.response.data.message}.</p>`, `error`);
            } else {
                messageAlert(`<h5>Oops!</h5>
        <p>${error.message}</p>`, `error`);
            }

        }
    }



    async function processStatus() {
        try {

            $('.submitBtn').addClass('disp-0');
            $('.spinload').removeClass('disp-0');

            var formData = new FormData(accountStateElem);


            if ($('.valueid').val() == 'fanaccount') {
                route = `${baseUrl}/becued/fan-account-state`;
            } else {
                route = `${baseUrl}/becued/celebrity-account-state`;
            }



            config = {
                method: 'post',
                headers: header,
                url: route,
                data: formData
            };

            response = await axios(config);

            $('.submitBtn').removeClass('disp-0');
            $('.spinload').addClass('disp-0');


            $('#accountStateElem')[0].reset();



            messageAlert(`<h5>${response.statusText}</h5>
            <p>${response.data.message}.</p>`, `success`);


            setTimeout(() => {
                location.reload()
            }, 2000)



        } catch (error) {

            $('.submitBtn').removeClass('disp-0');
            $('.spinload').addClass('disp-0');

            if (error.response) {
                messageAlert(`<h5>${error.response.statusText}</h5>
        <p>${error.response.data.message}.</p>`, `error`);
            } else {
                messageAlert(`<h5>Oops!</h5>
        <p>${error.message}</p>`, `error`);
            }

        }
    }


    async function activateaccountState(val, id) {
        try {

            var thisdata = {
                _id: id,
                accountStatus: 'Active'
            }


            if (val == 'fanaccount') {
                route = `${baseUrl}/becued/fan-account-state`;
            } else {
                route = `${baseUrl}/becued/celebrity-account-state`;
            }



            config = {
                method: 'post',
                headers: header,
                url: route,
                data: thisdata
            };

            response = await axios(config);


            messageAlert(`<h5>${response.statusText}</h5>
            <p>${response.data.message}.</p>`, `success`);


            setTimeout(() => {
                location.reload()
            }, 2000)



        } catch (error) {

            $('.submitBtn').removeClass('disp-0');
            $('.spinload').addClass('disp-0');

            if (error.response) {
                messageAlert(`<h5>${error.response.statusText}</h5>
        <p>${error.response.data.message}.</p>`, `error`);
            } else {
                messageAlert(`<h5>Oops!</h5>
        <p>${error.message}</p>`, `error`);
            }

        }
    }


    function moveToProcessed(_id, val) {

        var thisdata = {
            _id,
            val
        }

        swal({
                title: "Are you sure?",
                text: "Click OK to confirm that payment has been processed successfully",
                icon: "warning",
                buttons: true,
                dangerMode: true,
            })
            .then((willDelete) => {
                if (willDelete) {

                    messageAlert(`<h5>OK!</h5>
                    <p>Please wait...</p>`, `info`);
                    // Run AXIOS

                    var config = {
                        method: "POST",
                        url: `${baseUrl}/becued/process-payment`,
                        headers: header,
                        data: thisdata

                    }

                    const response = axios(config).then((result) => {
                        messageAlert(`<h5>${result.statusText}</h5>
                    <p>${result.data.message}.</p>`, `success`);

                        setTimeout(() => {
                            location.reload()
                        }, 2000);

                    }).catch((error) => {
                        if (error.response) {
                            messageAlert(`<h5>${error.response.statusText}</h5>
                    <p>${error.response.data.message}.</p>`, `error`);
                        } else {
                            messageAlert(`<h5>Oops!</h5>
                    <p>${error.message}</p>`, `error`);
                        }
                    });


                }
            });
    }
</script>